

<html >
<head>

	<STYLE TYPE="text/css">
	<!--
	BODY,TD{
		font-size:		16pt;
		/*border-width:	1px;*/
		border-color:	white;
		border-style:	solid;
		text-align: center;
		/*padding: 5px;*/

	}

	.scroll2{
	  overflow: auto;
	  /*white-space: pre;*/
	}

	p{
		font-size: 16pt;
	}
	-->




	</STYLE>	
	<script language="javascript" ><!--
					
		color = { R: "#ff0000" , W: "#ffffff" , Y: "#ffff00", B: "#0000ff", G: "#00ff00" ,  _: "#000000" , g:"#a0a0a0"};
		arColor = [ "#ff0000" , "#ffffff" , "#ffff00", "#0000ff", "#00ff00" ];
		arColor_ = [ "Red" , "White" , "Yellow", "Blue", "Green" ];
		arTextColor = ["White", "Black", "Black", "White", "Black"];
		
		var prev = "";	//	前回のRGBWB_
			
		var arRidingInterfere =[ "", "▲", "△", "△dbl"];			
	
						
		//	dialogの表示パラメータ
		var flagOnDialog = false;		//	表示中か？
		var flagOnDialogChild = false;		//	子dialog表示中（＝tenkeyDialog)
		
		var prevIJ="";					//	前回の行列		行_列		行:0...4	列：0...19
		var prevI = "";					//	prevIJ.split("_")[0]
		var prevJ = "";					//	prevIJ.split("_")[1]

		var ave = Array( Array(20), Array(20), Array(20), Array(20), Array(20) );					//	平均値	中間バッファ（コモン）	（本来ならclass内member変数）
		var net = Array( Array(20), Array(20), Array(20), Array(20), Array(20) );					//	網掛け		中間バッファ（コモン）
		for(var i=0; i<5; i++ )for(var j=0; j<20; j++ ){ave[i][j]=0; 	net[i][j]=""}

		//	妨害（配列）の定義
		var interfere = [ [0.0, 0.0],  [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0] ];		//	"▲":2 or "△":1 or "":0
		
		var total_and_top2 = Array( Array(23), Array(23), Array(23), Array(23), Array(23) )
		for(var i=0; i<5; i++ )for(var j=0; j<23; j++ ){total_and_top2 [i][j]=0.0;}

		function getAve(i,j){
			return ave[i][j];
		}
		function setAve( i, j, val ){
			ave[i][j]=val;
		}
		
		//
		//	dialog表示開始（共通）
		//
		function onOpenDialog( div_id, 		//	<div id='div_id' >
								fun,			//	daialog毎の特別処理	ex.	table内の場合、色を付ける
								obj_ ){		//	this
			//alert(div_id);
			console.log('139 div_id=%s ', div_id );
			console.log('139  ',  flagOnDialogChild );
			//	dialogが表示中なら、終了		※	二重起動を禁止
			
			//	何らかのdialogが表示中でない場合、表示中とする・・・処理は中断しない
			if( !flagOnDialog  ){						
				flagOnDialog = true;				//
			} else{
				//	ridingDialogが表示中でも、tenkeyDialogなら表示する・・・処理は中断しない
				if( ! flagOnDialogChild ){
					return;	
				}	else {
					//	ridingDialog、tenkeyDialogが表示中なら、（paddlingDialog、DNP_Noride_Dialogの起動は）中断する
					if( div_id == "paddlingDialog" || div_id == "DNP_Noride_Dialog" ) return;
				}
			}
			
			console.log('105 prevIJ=%s', prevIJ );
			if( div_id != "dialogPaddling" && div_id != "paddlingDialog" && div_id != "tenkeyDialog" ){
				prevIJ = obj_.id;			//	今回のi_j
				prevI = prevIJ.split("_")[0];						
				prevJ = prevIJ.split("_")[1];						
			}
			console.log('105 prevIJ=%s', prevIJ );
			
			var obj = document.getElementById( div_id ).style;
			//console.log('153 ', obj );
			var w =parseInt(window.innerWidth);
			//console.log('155 ', w );
			var h = parseInt(window.innerHeight);
			obj.left 		= (w / 5) + "px";
			obj.top 		= ( h / 10 ) +"px";
			

			//	callback	, dialog毎の特別処理	※	今回はinTable（だけ）用
			if( fun ){
				fun();
			}
			console.log('161 ', obj.display );
			//	dialog表示
			obj.display = "";		
			//document.getElementById(div_id).style.display="";
			
			//	実際のサイズは表示後に得られる
			objX = document.getElementById(div_id);
			obj.width 	=objX.offsetWidth +10;	
			obj.height  = objX.offsetHeght;
		}

		
						
						
		tenkeySpecial = function tenkeySpecial(){		
			//console.log("290");
			
			document.getElementById( "tenkeyDialog" ).style.width = "500px";	//	※対処療法
		}		
						
		//	3段目、ボタン処理		<!-- 3段目の interfare の指定-->	
		function onclick_Non_Priority(){
			//alert('onclick_Non_Priority');
			//document.getElementById( "echoback_TB_1" ).innerHTML = "△";
			obj = document.getElementById( "Interference_1" );
			obj.style.backgroundColor = 'black';
		}
				
		function onclick_Priority(){
			//alert('onclick_Priority');
			//document.getElementById( "echoback_TB_1" ).innerHTML = "▲";
		}		
		
		function onclick_No_Interference(){
			//alert('onclick_No_Interference');
			//document.getElementById( "echoback_TB_1" ).innerHTML = "";
		}				
		
		
		//「releaseAll」押下時		網掛けをクリアし、Totalを再集計
		function releaseAll(){

			if( flagOnDialog )return;
			
			//console.log('440 ave=', ave );
			//	5X20の中で（１つでも）網掛けセルのある行列番号（だけ）をメモる（配列化する）	
			//	※前もって求めておく（直後に網掛けをクリアするため）		※１
			var iSav=[];			
			for( var i=0; i<5; i++ ){
				for( var j=0; j<20; j++ ){
					if( net[i][j] != "" && net[i][j] != "red" ){
						iSav.push( i );
						break;
					}
				}	
			}			
			//console.log('382', iSav );			
		
			//	5X20の中で(grey)網掛けセルのある行列番号、列番号を全て（"行番号_列番号"の形式で）メモる
			var iSavEx=[];
			for( var i=0; i<5; i++ ){
				for( var j=0; j<20; j++ ){
					if( net[i][j] != "" && net[i][j] != "red" ){
						iSavEx.push( i + "_" + j );
					}
				}	
			}			
			//	judge1...5に反映、行番号_列番号のセルの下の行、（網掛けクリアもする）			????
			//console.log("398", 	iSavEx );

			hashHJ = {"IJ":[], "val":[]};			
			//	i_jとその平均値を配列にする
			iSavEx.forEach( val=>{
				str = document.getElementById( val  ).innerHTML;		//	<label style="font-weight:bold;font-size:11pt">1.00</label>
																														//		<label><br>1.0<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label>
				////console.log('421 str=', str );						
				////console.log('425 ', str.substring( str.indexOf(">")+1, str.indexOf("</") ) );						
				//setNet( val, "" );						//	網掛けをクリアする
				
				str = str.substring( str.indexOf(">")+1, str.indexOf("</") );		//	平均値を取り出す
				if( ! isNaN(str) ){
					hashHJ.IJ.push( val );
					hashHJ.val.push( str );
					//console.log('435 ', hashHJ );
					//console.log('482 ', val );
					document.getElementById( val + "_00" ).style.fontWeight = "bold";	//	アミカケをクリアした・・・という意味
					setNet( val, "" );					//	ここに入れてみた	※	網掛けのクリアが先？
				}
							
			});
			
			console.log('436 hashHJ=', hashHJ );
			
						
			//	網掛けセルのあった行だけLoop		Total列の再計算			※１
			var hash={"IJ":""};
			for( var k=0; k<iSav.length; k++ ){				
				totalReculc({"IJ":iSav[k] + "_"});									
			}	
			
			//	Broadcast（反映）
			emit( hashHJ );
			
			//	後始末	数値（ex.	①）	をクリア
			document.getElementById( "Approve" ).innerHTML = "&nbsp;";

			////console.log('429 prevIJ=%s', prevIJ );
			
			//	順位およびneedPointを決める
			getSeqAndNeedPoint();
			
			//console.log('473');
			setApproveNo();
			
			console.log('510 ave=', ave );
		}
		
		
		
		//	Judgeに反映
		function emitHJ( prevIJ__ ){
			console.log('239 ', prevIJ__ );
				hashToJudge = { "IJ":[""],"val":[""]};
				hashToJudge.IJ[0] = prevIJ__;
				var str = document.getElementById( prevIJ__ ).innerHTML;
				console.log('241 ', str );
				console.log('242 ', str.indexOf(">") );
				str = str.substring(  str.indexOf(">") + 1 );
				str = str.substring( 0, str.indexOf("<"));
				hashToJudge.val[0] = str;
				console.log( "281 ", hashToJudge );
				emit( hashToJudge );					
		}
		//	broadcastする
		function emit(str){
			////console.log('350 str=', str);
			var str = id + ";" + JSON.stringify(str) ;
			console.log('474 str=' , str );
			socket.emit("post", { text: str } );
		}
		
		function start(){
			alert("onload");
		}


		function onDNP(){
			alert('onDNP');	
			
		}		
		//console.log('before ', ave );

	//-->
	</script>
</head>
<body  >

	<!--
		ヘッド ジャッジシート画面
	-->
<div>

<!-- 最上段ロゴ 
<div  style='background-color:white;padding:5px'>
	<div style='background-color:blue;padding:10 10 10 10;color:white;border-radius:10px '>
		XXX Surfer's Club
	</div>
</div>
-->
<!-- 上段見出し -->
<div>
	<table style='background-color:white;width:100%'>
	
		<tr><td colspan="3" style="width:30%;text-align:left" id="class" >class name	</td></tr>
		
		<tr><td style="text-align:left">
			<label onclick="onOpenDialog('DNP_Noride_Dialog', DNP_Special, this)" style='padding:5px 10px 5px 10px;background-color:black;border-radius:10px;color:white;' >
				<label id="rnd">round1</label>
				<label id="ht">heat1</label>
			</label>
			</td>
		
			<td style='width:30%;' >
			<!--
			<img src="https://sozaic.com/wp-content/uploads/2022/03/life410.jpg" width="36px" height="36px" ></img>
			-->		
			<label id="timer">xx:xx</label></td>
		
			<!-- 追加分	「承認ボタン」 -->
			<td style='width:30%' >
				<label style='margin:5px 5px 5px 5px;padding:5px 10px 5px 10px;background-color:black;border-radius:10px;color:white;' 
					onclick="releaseAll()">Release all&nbsp;
					<label id="Approve" style="padding:1px;color:#ffff00;border-radius:10px;font-weight:bold;">&nbsp;</label></label>
			</td>
		
		</tr>
	</table>
</div>


<!-- 横並び（大きな）３個のdiv -->
<div style="display:flex;background-color:lightgrey;align-items:stretch;" >

	<!--
		左<div>、５色（行）	３列	(色、athlete、total）
	-->
	<div >
		
		<!--
		<table height="400">
		-->
		<table border="1" style="white-space:nowrap;font-size:13pt;line-height:15px;border-color:lightgrey;">

		<!-- １行目	タイトル行-->
		<tr >		
			<td border="1" style="background-color:white;color:white;" >&nbsp;no-ride</td>		<!-- 幅が変化してしまう対策-->
			<td style="background-color:white;color:lightgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Athlete&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
			<td style="background-color:white;color:lightgrey">&nbsp;&nbsp;&nbsp;Total&nbsp;&nbsp;&nbsp;</td>
			<td style="background-color:white;color:lightgrey">Judge</td>
		</tr>


	<script>
			
		// doubleClick
		var timerFlag=false;
		var timer3;
		var objPar;
		const onTimer3= function(){
			
			clearInterval(timer3);

			if( ! timerFlag ){
				return;
			} 
			timerFlag=false;
			
			console.log( 'onTimer3' );
			onOpenDialog('ridingDialog', ridingSpecial, objPar );
		}
			
			
		function buttonDoubleclick(obj){		//	this
			timerFlag=false;
			clearInterval(timer3);
			
			prevIJ = obj.id;
			console.log('384 ', prevIJ );
			prevI = prevIJ.split("_")[0];
			prevJ = prevIJ.split("_")[1];
			
			console.log('385 buttonDoubleclick prevIJ=%s %s %s %s', obj.id, net[prevI][prevJ], prevI, prevJ);		//	行_列	ex. "0_2"			
			if( net[prevI][prevJ] == "grey" ){
			
				console.log('393 ');
				setNet( obj.id, "" );					//	網掛けクリア
				totalReculc({"IJ":obj.id });		//	合計の再計算
				getSeqAndNeedPoint();		//	順位とneedの計算
				setApproveNo();						//	ApproveNo表示
				emitHJ(prevIJ);
				
			}
			
			prevIJ = "";
			prevI = "";
			prevJ = "";
			
		}
		

		function buttonclick( obj ){
			if(timerFlag)return;
			
			//console.log('buttonclick');
			timer3 = setInterval(onTimer3, 1000);
			objPar = obj;
			timerFlag = true;
		}
			
		//
		//	（色）またはAth（色）を選択した時、paddlingDialogまたはridingDialogを起動する処理
		//	
		var bAth = 0;	//	起動元	（色）：0		Athlete（色）：１
		function aaa( n, par ){		//	n:0...4(色）	par＝bAth	起動元	0：Athlete（色）でない＝（色）	1:Athlete（色）
			bAth = par;
			console.log('691 bAth=%d n=%d', bAth, n );
			
			
			//	起動するdialogの種別（Pad/rid）を判定し、そのdialogを表示する
			var str = document.getElementById( n + "_Ath" ).innerHTML;
			console.log('399 str=%s', str );
			if( str.indexOf("Pd") >= 0 || bAth == 0 ){
				
				//	Athlete(色）最下に既に２行分の登録がある場合、skip
				if( document.getElementById( n + "_Ath" ).innerHTML != "" 
				&& document.getElementById( n + "_Ath_" ).innerHTML != "" 
				&& bAth== 0 ){
					alert( arColor_[n] + "には既に２つの妨害があります");
					return;
				}
				
				
				//	pad妨害
				obj = document.getElementById( n + "" );
				prevIJ = n;		//	色:0...4
				prevI = n;			//prevIJ.split("_")[0];						
				prevJ = "";			//prevIJ.split("_")[1];							
				console.log('708 ', prevIJ );
				onOpenDialog('paddlingDialog', paddlingSpecial, obj );
				
			} else {	
				
				//	rid妨害		※	Ath(色）を選択しても、ridDialog（overwrite）を起動できる			ex. ▲ 3→Red
				var str = str.split("→")[0].split(" ")[1];				
				str = n + "_" + ( parseInt(str) - 1);
				console.log('427 ', str );
				objPar = document.getElementById( str );				
				onOpenDialog( 'ridingDialog', ridingSpecial, objPar );
				
			}			
			
		}
		
		
	</script>
	
	
	<!-- （左<div>）２～６列目	５色-->
		
		<tr style="display:" id="rowL0">
		<!-- 色の列-->
			<td  style="vertical-align:top;background-color:#ff0000;
					color:White;border-color:white;font-size:15pt;line-height:15px" 
					
						 id="0"
						  
						 onclick="aaa(id,0)"
						 
				>Red	
				<br><label id="0_seq">&nbsp;</label>
				<br>&nbsp;<br>&nbsp;<br>&nbsp;<br><label id="0_seq5" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			</td>
			
		<!-- Athleteの列-->
		
		<td style="background-color:#FFCCCB;border-right-color:#FFCCCB;vertical-align:top;font-size:10pt;" id="Athlete_0">
		佐藤 一郎<br>サトウ イチロウ<br>東京<br>&nbsp;
		<br><label onclick="aaa(0,1)" style="color:red" id="0_Ath_"></label>
		<br><label onclick="aaa(0,1)" style="color:red;font-weight:bold;" id="0_Ath"></label>
		

		</td>	
		
		<!-- Totalの列-->

		<td style="background-color:#FFCCCB;border-left-color:#FFCCCB;vertical-align:top;padding:0px;font-size:10pt"
			id="Total_0"	>
		0.00<br>0.00 + 0.00<br>Needs 0.00
		</td>	


		<!-- Judgeの列-->
		
		<td id="Judge_0" style="background-color:white;padding:0px;font-size:10pt">
		&nbsp;<br>J#<br>J#<br>J#<br>J#<br>J#
		</td>	
		
		</tr>

		
		<tr style="display:" id="rowL1">
		<!-- 色の列-->
			<td  style="vertical-align:top;background-color:#ffffff;
					color:Black;border-color:white;font-size:15pt;line-height:15px" 
					
						 id="1"
						  
						 onclick="aaa(id,0)"
						 
				>White	
				<br><label id="1_seq">&nbsp;</label>
				<br>&nbsp;<br>&nbsp;<br>&nbsp;<br><label id="1_seq5" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			</td>
			
		<!-- Athleteの列-->
		
		<td style="background-color:White;border-right-color:White;vertical-align:top;font-size:10pt;" id="Athlete_1">
		鈴木 二郎<br>スズキ ジロウ<br>神奈川<br>&nbsp;
		<br><label onclick="aaa(1,1)" style="color:red" id="1_Ath_"></label>
		<br><label onclick="aaa(1,1)" style="color:red;font-weight:bold;" id="1_Ath"></label>
		

		</td>	
		
		<!-- Totalの列-->

		<td style="background-color:White;border-left-color:White;vertical-align:top;padding:0px;font-size:10pt"
			id="Total_1"	>
		0.00<br>0.00 + 0.00<br>win by 0.00
		</td>	


		<!-- Judgeの列-->
		
		<td id="Judge_1" style="background-color:white;padding:0px;font-size:10pt">
		&nbsp;<br>J#<br>J#<br>J#<br>J#<br>J#
		</td>	
		
		</tr>

		
		<tr style="display:" id="rowL2">
		<!-- 色の列-->
			<td  style="vertical-align:top;background-color:#ffff00;
					color:Black;border-color:white;font-size:15pt;line-height:15px" 
					
						 id="2"
						  
						 onclick="aaa(id,0)"
						 
				>Yellow	
				<br><label id="2_seq">&nbsp;</label>
				<br>&nbsp;<br>&nbsp;<br>&nbsp;<br><label id="2_seq5" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			</td>
			
		<!-- Athleteの列-->
		
		<td style="background-color:LightYellow;border-right-color:LightYellow;vertical-align:top;font-size:10pt;" id="Athlete_2">
		田中 三郎<br>タナカ サブロウ<br>千葉<br>&nbsp;
		<br><label onclick="aaa(2,1)" style="color:red" id="2_Ath_"></label>
		<br><label onclick="aaa(2,1)" style="color:red;font-weight:bold;" id="2_Ath"></label>
		

		</td>	
		
		<!-- Totalの列-->

		<td style="background-color:LightYellow;border-left-color:LightYellow;vertical-align:top;padding:0px;font-size:10pt"
			id="Total_2"	>
		0.00<br>0.00 + 0.00<br>Needs 0.00
		</td>	


		<!-- Judgeの列-->
		
		<td id="Judge_2" style="background-color:white;padding:0px;font-size:10pt">
		&nbsp;<br>J#<br>J#<br>J#<br>J#<br>J#
		</td>	
		
		</tr>

		
		<tr style="display:" id="rowL3">
		<!-- 色の列-->
			<td  style="vertical-align:top;background-color:#0000ff;
					color:White;border-color:white;font-size:15pt;line-height:15px" 
					
						 id="3"
						  
						 onclick="aaa(id,0)"
						 
				>Blue	
				<br><label id="3_seq">&nbsp;</label>
				<br>&nbsp;<br>&nbsp;<br>&nbsp;<br><label id="3_seq5" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			</td>
			
		<!-- Athleteの列-->
		
		<td style="background-color:LightBlue;border-right-color:LightBlue;vertical-align:top;font-size:10pt;" id="Athlete_3">
		高橋 四郎<br>タカハシ シロウ<br>愛知<br>&nbsp;
		<br><label onclick="aaa(3,1)" style="color:red" id="3_Ath_"></label>
		<br><label onclick="aaa(3,1)" style="color:red;font-weight:bold;" id="3_Ath"></label>
		

		</td>	
		
		<!-- Totalの列-->

		<td style="background-color:LightBlue;border-left-color:LightBlue;vertical-align:top;padding:0px;font-size:10pt"
			id="Total_3"	>
		0.00<br>0.00 + 0.00<br>Needs 0.00
		</td>	


		<!-- Judgeの列-->
		
		<td id="Judge_3" style="background-color:white;padding:0px;font-size:10pt">
		&nbsp;<br>J#<br>J#<br>J#<br>J#<br>J#
		</td>	
		
		</tr>

		
		<tr style="display:" id="rowL4">
		<!-- 色の列-->
			<td  style="vertical-align:top;background-color:#00ff00;
					color:Black;border-color:white;font-size:15pt;line-height:15px" 
					
						 id="4"
						  
						 onclick="aaa(id,0)"
						 
				>Green	
				<br><label id="4_seq">&nbsp;</label>
				<br>&nbsp;<br>&nbsp;<br>&nbsp;<br><label id="4_seq5" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
			</td>
			
		<!-- Athleteの列-->
		
		<td style="background-color:#c0ffc0;border-right-color:#c0ffc0;vertical-align:top;font-size:10pt;" id="Athlete_4">
		山本 五郎<br>ヤマモト ゴロウ<br>宮崎<br>&nbsp;
		<br><label onclick="aaa(4,1)" style="color:red" id="4_Ath_"></label>
		<br><label onclick="aaa(4,1)" style="color:red;font-weight:bold;" id="4_Ath"></label>
		

		</td>	
		
		<!-- Totalの列-->

		<td style="background-color:#c0ffc0;border-left-color:#c0ffc0;vertical-align:top;padding:0px;font-size:10pt"
			id="Total_4"	>
		0.00<br>0.00 + 0.00<br>Needs 0.00
		</td>	


		<!-- Judgeの列-->
		
		<td id="Judge_4" style="background-color:white;padding:0px;font-size:10pt">
		&nbsp;<br>J#<br>J#<br>J#<br>J#<br>J#
		</td>	
		
		</tr>

		</table>
	</div>


	<!--
		中<div>、１~20列	
	-->
	
	<div class="scroll2" style="width:100%;">
	
		<table border="1"  style="width:2000px;background-color:white;white-space:nowrap;line-height:15px;border-color:lightgrey"> 
		
			<tr>
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;1					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;2					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;3					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;4					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;5					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;6					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;7					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;8					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					&nbsp;&nbsp;9					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					10					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					11					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					12					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					13					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					14					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					15					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					16					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					17					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					18					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					19					</td> 
						<td  style="background-color:white;color:lightgrey;font-size:10pt;border-color:lightgrey">
					20					</td> 
						
			</tr>
			
					<tr id="rowM0">
								
				
				<td id="0_0" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_0_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_1" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_1_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_2" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_2_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_3" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_3_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_4" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_4_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_5" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_5_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_6" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_6_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_7" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_7_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_8" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_8_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_9" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_9_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_10" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_10_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_11" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_11_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_12" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_12_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_13" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_13_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_14" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_14_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_15" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_15_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_16" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_16_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_17" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_17_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_18" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_18_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="0_19" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="0_19_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

						
			</tr>

					<tr id="rowM1">
								
				
				<td id="1_0" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_0_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_1" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_1_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_2" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_2_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_3" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_3_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_4" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_4_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_5" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_5_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_6" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_6_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_7" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_7_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_8" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_8_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_9" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_9_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_10" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_10_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_11" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_11_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_12" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_12_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_13" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_13_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_14" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_14_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_15" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_15_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_16" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_16_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_17" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_17_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_18" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_18_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="1_19" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="1_19_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

						
			</tr>

					<tr id="rowM2">
								
				
				<td id="2_0" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_0_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_1" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_1_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_2" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_2_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_3" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_3_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_4" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_4_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_5" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_5_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_6" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_6_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_7" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_7_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_8" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_8_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_9" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_9_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_10" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_10_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_11" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_11_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_12" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_12_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_13" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_13_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_14" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_14_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_15" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_15_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_16" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_16_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_17" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_17_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_18" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_18_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="2_19" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="2_19_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

						
			</tr>

					<tr id="rowM3">
								
				
				<td id="3_0" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_0_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_1" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_1_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_2" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_2_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_3" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_3_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_4" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_4_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_5" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_5_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_6" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_6_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_7" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_7_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_8" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_8_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_9" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_9_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_10" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_10_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_11" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_11_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_12" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_12_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_13" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_13_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_14" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_14_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_15" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_15_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_16" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_16_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_17" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_17_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_18" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_18_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="3_19" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="3_19_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

						
			</tr>

					<tr id="rowM4">
								
				
				<td id="4_0" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_0_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_1" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_1_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_2" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_2_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_3" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_3_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_4" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_4_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_5" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_5_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_6" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_6_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_7" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_7_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_8" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_8_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_9" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_9_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_10" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_10_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_11" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_11_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_12" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_12_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_13" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_13_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_14" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_14_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_15" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_15_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_16" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_16_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_17" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_17_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_18" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_18_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

								
				
				<td id="4_19" style="font-size:10pt;border-color:lightgrey;" 	  
				
				onclick="buttonclick(this)" 
				ondblclick="buttonDoubleclick(this)"
				
				><label style="font-weight:normal;font-size:11pt" id="4_19_00">&nbsp;</label>
				<label><br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</label></td>
				

						
			</tr>

				</table>
	</div>
	
	
	
	<!-- 右列、色のdiv -->
	<div  style="width:5%;">
	<table border="1" style="background-color:lightgrey;white-space:nowrap;font-size:13pt;line-height:15px;border-color:white">
			<tr > <td style="color:lightgrey;background-color:white;">&nbsp;PRT&nbsp;</td></tr>
			<tr id="rowR0"><td  style="background-color:red;" id='0_99'>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td></tr>
			<tr id="rowR1"><td  style="background-color:red;" id='1_99'>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td></tr>
			<tr id="rowR2"><td  style="background-color:red;" id='2_99'>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td></tr>
			<tr id="rowR3"><td  style="background-color:red;" id='3_99'>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td></tr>
			<tr id="rowR4"><td  style="background-color:red;" id='4_99'>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td></tr>		
	</table>

	</div>	
</div>

<!-- 下段の paddling interfere 
//			padding inerfere 判定	→	左下（Paddling Interfere )に警告マークを表示する		※削除した
-->


	
</script>

<!-- 下段の ©copyright -->
<div style="background-color:lightgrey" >
	<br>
	<hr>
		<p align="right" style='padding: 20px 20Px' >©copyright by Hiro.Itoh&nbsp;&nbsp;</p>
</div>



<!-- (dialog) -->

<!-- 5行20列のdialog (riding)-->
<div id="ridingDialog" style="position:absolute; background-color:lightgrey;border: 1px solid #000000;display:none;width:100%;" >

	<!-- 右上の「X」 -->
	<!--
	<div align="right">	
		<input type="button" value="X" onclick="on10_TB('X')" style="font-size:16pt;background-color:black;color:white"></input>		
	</div>
-->

	<!-- １段目のWave番号 、アベレージ	-->	
	<table align="center" style="width:100%;padding:0px 0px 0px 0px;">
		<tr>
		<!--
			<td name="colored" id="Wave_0_0" style="font-size:16pt;background-color:red;border-color:red;width:50%" ></td>
			-->
			<td name="colored" id="Wave_0_1" style="font-size:16pt;border-color:lightgrey;background-color:red;border-color:red;width:100%;font-weight:bold;text-align:left" ></td>
		
			<!--
				<input type="button" value="X" onclick="on10_TB('X')" style="font-size:16pt;background-color:black;color:white"></input>		
				-->
	 		<td style="background-color:black;color:white;border-color:black;width:4em" onclick="on10_TB('X')">✖</td>

			
			
		</tr>	
	</table>
	
	<table style="width:95%;padding-top:0px">
		<tr>
		<td style="border-color:lightgrey;font-size:16pt"></td>
			<td colspan="2" style="border-color:lightgrey;font-size:16pt;text-align:left">　アベレージ</td>
			<td style="border-color:lightgrey;font-size:16pt">　</td>

			
			</td>
		</tr>
		<tr>
			<td style="border-color:lightgrey;font-size:16pt"></td>
			<td id="echoback_TB_0" style="border-color:black;background-color:white;border-radius:10pt;font-size:16pt;padding:0pt">0.5</td>
			<td style="border-color:lightgrey;font-size:16pt">　</td>
			<td style="border-color:lightgrey;font-size:16pt">　</td>
			<td style="border-color:lightgrey;font-size:16pt">　</td>
		</tr>
		
	</table>
	
	
	<!-- 2段目の各Judgeの点数 、インターフェア-->	
	<table align="center" style="width:95%;padding:0px;">
		<tr>
			<td id="J1_0" style="border-color:lightgrey;font-size:16pt;width:20%">&nbsp;</td>
			<td id="J2_0" style="border-color:lightgrey;font-size:16pt;width:20%"></td>
			<td id="J3_0" style="border-color:lightgrey;font-size:16pt;width:20%"></td>
			<td id="J4_0" style="border-color:lightgrey;font-size:16pt;width:20%"></td>
			<td id="J5_0" style="border-color:lightgrey;font-size:16pt;width:20%"></td>
		</tr>
		<tr>
			<td id="J1_1" class="disc_td" onclick="onJind(this)">&nbsp;</td>
			<td id="J2_1" class="disc_td" onclick="onJind(this)"></td>
			<td id="J3_1" class="disc_td" onclick="onJind(this)"></td>
			<td id="J4_1" class="disc_td" onclick="onJind(this)"></td>
			<td id="J5_1" class="disc_td" onclick="onJind(this)"></td>
		</tr>
	</table>
	
	<table style="padding:10px">
		<tr>
				<td colspan="4" style="border-color:lightgrey;font-size:16pt;text-align:left">インターフェア</td>
		</tr>
		
		<tr>
 			<td id="RidingInterfere_1"  class="disc_td" onclick="onIndex('RidingInterfere_', 1, 4)">▲ Priority </td>
 			<td id="RidingInterfere_2"  class="disc_td" onclick="onIndex('RidingInterfere_', 2, 4)">△ Non-Priority </td>
 			<td id="RidingInterfere_3"  class="disc_td" onclick="onIndex('RidingInterfere_', 3, 4)">△ Double </td>
 			<td id="RidingInterfere_0"  class="disc_td" onclick="onIndex('RidingInterfere_', 0, 4)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
		</tr>
		

		
	</table>
	
	
	<!-- ３段目の相手-->	
	
 	<table style="padding:0 0 10 10;width:95%;">
 	 		<tr><td colspan="5" style="text-align:left;border-color:lightgrey;">　相手</td></tr>
 		<tr>	
 			<td id="rid_aite_0"  class="disc_td" onclick="onIndex('rid_aite_', 0,5)">&nbsp;&nbsp;Red &nbsp;&nbsp;</td>
 			<td id="rid_aite_1"  class="disc_td" onclick="onIndex('rid_aite_', 1,5)">&nbsp;White&nbsp;</td>
 			<td id="rid_aite_2"  class="disc_td" onclick="onIndex('rid_aite_', 2,5)">&nbsp;Yellow&nbsp;</td>
 			<td id="rid_aite_3"  class="disc_td" onclick="onIndex('rid_aite_', 3,5)">&nbsp;Blue&nbsp;</td>
 			<td id="rid_aite_4"  class="disc_td" onclick="onIndex('rid_aite_', 4,5)">&nbsp;Green&nbsp;</td>
		</tr>		
	</table>	


	<!-- ４段目のWave番号	-->
	
 	<table id="WaveNoAite" style="padding:0px;margin:auto;display:none">
 		<tr><td colspan ="3" style="text-align:left;border-color:lightgrey;font-weight:bold">wave</td><td colspan="7" class="disc_dummy"></td>
 		</tr>

 		<tr>
 			<td class="disc_td" id="rid_rid_1" onclick="onIndex('rid_rid_', 1, 21)" >1</td>
 			<td class="disc_td" id="rid_rid_2" onclick="onIndex('rid_rid_', 2, 21)">2</td>
 			<td class="disc_td" id="rid_rid_3" onclick="onIndex('rid_rid_', 3, 21)">3</td>
 			<td class="disc_td" id="rid_rid_4" onclick="onIndex('rid_rid_', 4, 21)">4</td>
 			<td class="disc_td" id="rid_rid_5" onclick="onIndex('rid_rid_', 5, 21)">5</td>
 			<td class="disc_td" id="rid_rid_6" onclick="onIndex('rid_rid_', 6, 21)">6</td>
 			<td class="disc_td" id="rid_rid_7" onclick="onIndex('rid_rid_', 7, 21)">7</td>
 			<td class="disc_td" id="rid_rid_8" onclick="onIndex('rid_rid_', 8, 21)">8</td>
 			<td class="disc_td" id="rid_rid_9" onclick="onIndex('rid_rid_', 9, 21)">9</td>
 			<td class="disc_td" id="rid_rid_10" onclick="onIndex('rid_rid_',10, 21)">10</td>
 		</tr>
 		<tr>
 			<td class="disc_td" id="rid_rid_11" onclick="onIndex('rid_rid_', 11, 21)">11</td>
 			<td class="disc_td" id="rid_rid_12" onclick="onIndex('rid_rid_', 12, 21)">12</td>
 			<td class="disc_td" id="rid_rid_13" onclick="onIndex('rid_rid_', 13, 21)">13</td>
 			<td class="disc_td" id="rid_rid_14" onclick="onIndex('rid_rid_', 14, 21)">14</td>
 			<td class="disc_td" id="rid_rid_15" onclick="onIndex('rid_rid_', 15, 21)">15</td>
 			<td class="disc_td" id="rid_rid_16" onclick="onIndex('rid_rid_', 16, 21)">16</td>
 			<td class="disc_td" id="rid_rid_17" onclick="onIndex('rid_rid_', 17, 21)">17</td>
 			<td class="disc_td" id="rid_rid_18" onclick="onIndex('rid_rid_', 18, 21)">18</td>
 			<td class="disc_td" id="rid_rid_19" onclick="onIndex('rid_rid_', 19, 21)">19</td>
 			<td class="disc_td" id="rid_rid_20" onclick="onIndex('rid_rid_', 20, 21)">20</td>
 		</tr>
 	</table>

	<br>


	<table style='margin:auto'><tr>
	<td  style="border-color:lightgrey"> 
				<input type="button" value="Release" style="font-size:16pt;border-color:lightgrey;border-radius:10px;background-color:black;color:white;padding:16px" onclick="ridRelease()"/></td>				

	</tr>
	</table>
	<br>
	
	<script>

		//	table内からのdialog特別処理		ここで初回表示をする
		ridingSpecial = function ridingSpecial(){
			
			//console.log('184 bAth=%d' , bAth );
			
			document.getElementById( "ridingDialog" ).style.width = "750px";	//	※対処療法
						
			//											
			//	1段目		
			//
			
			//（色）　wave　（番号）　をセット	（番号とは、5X20での1...20の列番号の事）		ex.	Red　wave 1
			document.getElementById( "Wave_0_1" ).innerHTML = "　" + arColor_[ prevI ] + "　wave " + ( parseInt( prevJ ) + 1 ) ;
			
			//	1段目1行目の2項目、色替え　（赤、白、黄、青、緑）			//	行_列		0...	_ 0...
			color_ = arColor[ parseInt( prevI ) ];		
			ele = document.getElementsByName( 'colored' );		//	色を変更するところ	同一name	<td name='colored'>
			ele.forEach( (val)=>{
				[ 'border-top-color', 'border-bottom-color' , 'border-left-color', 'border-right-color', 'background-color']
				.forEach( (val2)=>{ 
					val.style["color"] =  color_ == "#0000ff" ? "white" : "black";		//	青→白文字、その他→黒文字
					val.style[val2] = color_;
				 } );
			});
			

			str = document.getElementById( prevIJ + "_00" ).innerHTML;			
			//
			//	インターフェア		妨害ボタンをハイライト		※	「△double」は初回ハイライトされる事はない
			//
			console.log( "211 str=%s prevIJ=%s", str, prevIJ );
			
			if( str.indexOf( "▲" ) >= 0 ) {
				document.getElementById( "RidingInterfere_1" ).style.backgroundColor = "black";
				document.getElementById( "RidingInterfere_1" ).style.color = "white";
			} else 	if( str.indexOf( "△" ) >= 0 ) {
				document.getElementById( "RidingInterfere_2" ).style.backgroundColor = "black";
				document.getElementById( "RidingInterfere_2" ).style.color = "white";
			} else {
				document.getElementById( "RidingInterfere_0" ).style.backgroundColor = "black";
				document.getElementById( "RidingInterfere_0" ).style.color = "white";						
			}
			
			
			//
			//	アベレージ
			//
			str = document.getElementById( prevIJ + "_00" ).innerHTML;
			document.getElementById( "echoback_TB_0"   ).innerHTML = str;
			
			//
			//	相手、wave番号	（ハイライトする）
			//
			var strAite="";
			var nColor = -1;			
			arAth.forEach( (val) =>{	
				str = document.getElementById( prevI + val ).innerHTML;										
				if( str != "" && str.indexOf("Pd") == -1 ){
						
					//	先ず、左に自分の列(wave番号）があるか探す
					if( str.split("→")[0].split(" ")[1] == ( parseInt( prevJ ) + 1 ) + "" ) {

						//	あれば、その右から、相手の色＋wave番号を求める
						arColor_.forEach(( val2,key2 )=>{
							if( str.split("→")[1].indexOf( val2 ) >=0 ){
								nColor = key2;	
							}
						});
					}							 
				}
				 
			})	;
			//console.log('252 nColor=%d nWave=%s', nColor, nWave );
						
			if( nColor >= 0 ){
				console.log('253 ', nColor );
				document.getElementById( "rid_aite_" +  nColor  ).style.backgroundColor = "black";
				document.getElementById( "rid_aite_" +  nColor  ).style.color = "white";
			}
			
			//	waveNoを初期化
			for( var i=1; i< 21; i++ ){
				document.getElementById( "rid_rid_" +  i  ).style.backgroundColor = "white";
				document.getElementById( "rid_rid_" +  i  ).style.color = "black";
			}
		
			//				
			//	Judge列	（５行<br>分割している）の各行のJudge番号を表示する
			//			ex.	J1　J2　...　J5	を表示		Judge列:id='Judge_n'		n=0...4
			//
			//console.log('216', document.getElementById( "Judge_0" ).innerHTML );
			arJ = document.getElementById( "Judge_0" ).innerHTML.split("<br>");
			//console.log('218', arJ );
			//	2段目、J1・・・	タイトル表示
			for( var i=0; i<5; i++ ){				
				//str = "Judge_0_" + (i+1);
				str2 = "J" + (i+1) + "_0";
				document.getElementById( str2 ).innerHTML = arJ[i+1];
			}
						
			//	2段目、各ジャッジの値表示、（0行目は除外）	、		<!-- 2段目の各Judgeの点数 -->		△▲付で構わない
			arStr = document.getElementById( prevIJ ).innerHTML.split("<br>");
			arStr[5] = arStr[5].substring( 0, arStr[5].indexOf( "<" ) );
			for( var i=0; i<5; i++ ){				
				str2 = "J" + (i+1) + "_1";
				str3= arStr[i+1];
				document.getElementById( str2 ).innerHTML = str3;				
			}			
			
		}




		//	妨害のコモン
		var xInt = { 	sINT: "", 				//	妨害	''	なし、▲、△、△dbl、Pd△、Pd▲、Pd△dbl
								prevINT: "",			//	その前回値
								sLeft: "" , 				//	左（自分）のwave番号	1...20
								prevLeft: "",			//	その前回値
								sRight: "",				//	右（相手）　色　wave番号
								prevRight: "",		//	その前回値
								sLink: "" , 			//	double（相手）の　色　wave番号
								prevLink: "" };		//	その前回値
								
		var arAth= [ "_Ath", "_Ath_"];
		var nRidingInterfere=0;
		var nAite = -1;													//	相手の色		ex.	Red
		
		function ridRelease(){
			console.log('881');

			//str = document.getElementById( "echoback_TB_1" ).innerHTML ;
			
			var strAth = "";		//	Athlete(色)の最下行（およびその１行上）に書きだす文字
			
			 nRidingInterfere=0;
			//	妨害の番号を所得
			for( var i=0; i<4; i++ ){
				if( document.getElementById( "RidingInterfere_" + i ).style.backgroundColor == "black" ) nRidingInterfere=i;
			}
			console.log('1181 ', nRidingInterfere);

			//
			//	妨害のコモンをセットする
			//
			//	△ 3→Red1				Pd▲ White→
			//var arRidingInterfere =[ "", "▲", "△", "△dbl"];			
			xInt["sINT"] = arRidingInterfere[nRidingInterfere];				//	妨害の名前 
			
			xInt['prevINT'] = "";													//	その前回値
			arAth.forEach( (val,key)=>{
				str = document.getElementById( prevI +  val ).innerHTML;
				if( str.split('→')[0].split(" " )[1] == (parseInt(prevJ) +1 ) + "" ){
					xInt['prevINT'] = str.split('→')[0].split(" " )[0]; 
				} 
			});
			
			xInt['sLeft' ] =  (parseInt(prevJ)+1) + "";			//	（自分の）waveNo

			xInt['prevLeft'] = "";																		//	その前回値
			arAth.forEach( (val,key)=>{
				if( document.getElementById( prevI + val ).innerHTML.split("→")[0].split(" ")[1] == (parseInt(prevJ)+1) + ""  ) {
					xInt['prevLeft']  = (parseInt(prevJ) + 1 ) ;
				}
			});
						
						
			xInt['sRight'] = "";
			xInt['prevRight'] = ""
			for( var i=0; i<5; i++ ){
				if( document.getElementById( "rid_aite_" + i ).style.backgroundColor == "black" ) nAite = i;
			}
			
			xInt['sRight'] = nAite == -1 ?  "" : arColor_[nAite] ;

				
			xInt['sLink'] ="";
			xInt['prevLink'] = "";
			arAth.forEach( (val,key)=>{
				str = document.getElementById( prevI + val ).innerHTML;
				console.log('1305 prevI=%s val=%s str=%s', prevI , val, str );
				
				if( str != "" ) {
					console.log('1308 ', str );
					//if( str.split("→")[0].indexOf( "dbl" ) > 0 && str.split("→")[0].split(" ")[1] == (parseInt(prevJ)+1) + "" ){
					if(  str.split("→")[0].split(" ")[1] == (parseInt(prevJ)+1) + "" ){
						console.log('1309 ', key)
						xInt['prevRight'] = str.split("→")[1];
						xInt['prevLink'] = xInt['prevRight'];
					}
				}
				
			});					
						
			console.log('1237 ', nRidingInterfere );			
			if( nRidingInterfere == 3 ){					
				xInt['sLink'] = xInt['sRight'];
			}
			console.log("1182", xInt );
			
			
			//	登録可能か？
			var err = isAlreadyFull();
			if( err >= 0 ){
				alert( arColor_[ err ] + "には既に２つの妨害があります");
				return;
			}

			doAction();							
										
			setApproveNo();
			console.log("937 prevIJ=%s", prevIJ );
			
			//	OK をJudgeに反映
			emitHJ(prevIJ);
			
			totalReculc({"IJ":prevIJ });			//	このイベントは通知ではないが、パラメータは通知を前提、
			
			getSeqAndNeedPoint();
			
			//console.log('931 ', prevIJ);
			//setApproveNo();
			
			on10_TB("X");
			
			//flagOnDialog = false;
			//document.getElementById( "ridingDialog" ).style.display = "none";
			////console.log('910');
			
		}
		
		var prevVal = ["","","","",""];
		var jNo_;										//	指定されたJNo（ジャッジ番号）	ex.	J2_0		※（因みに）	J2_1はその値
		function onJind( obj ){
			//alert( "onJind " + n );
			
			console.log( "1266 ", prevIJ );
			
			//	JNo
			console.log( "260 ", obj.id );
			jNo_ = obj.id;
			jNo_ = "J" + jNo_.charAt(1) + "_0";
			document.getElementById( "tenJNo" ).innerHTML = document.getElementById( jNo_ ).innerHTML;
			//console.log('264 ', document.getElementById( jNo_ ).innerHTML );
			
			//	val
			console.log('264 ', document.getElementById( obj.id ).innerHTML );
			document.getElementById( "tenVal" ).innerHTML = document.getElementById( obj.id ).innerHTML;
			
			
			flagOnDialogChild = true;
			onOpenDialog( "tenkeyDialog", tenkeySpecial, obj );
		}
	

		//
		//	登録可能か？		※	判定処理だけ
		//
		function isAlreadyFull(){		//	戻り	-1:OK登録可能		n>=0：その色で登録ができない
			console.log('1470');

			//	自分が、妨害「なし」の場合、無条件にOK
			if( xInt['sINT'] == "" ) return -1;		
			
			//	自分が、overwiteでない(=push）場合、Ath_（色）が空白ならOK
			if( xInt['sLeft'] != xInt['prevLeft'] ) {
				if( document.getElementById( prevIJ.split("_")[0] + "_Ath_").innerHTML == "" ) return -1;
				return prevIJ.split("_")[0];
			}
			
			//	overwite
			
			//	doubleの相手（＝link）が、なければOK
			if( xInt[ 'sLink' ] == "" ) return -1;			
			
			//	doubleの相手（＝link）があり、	同じ色＋番号なら（overwriteなので）OK								
			if( xInt[ 'sLink' ] == xInt[ 'prevLink' ] ) return -1;
			
			
			//	doubleの相手（＝link）があり、	同じ色＋番号でないなら、（linkは別の所にpushするので）その余裕を判定する								
			arColor_.forEach( (val,key)=>{
				if( xInt[ 'sLink' ].indexOf( val ) >= 0 ){
					if( document.getElementById( key + "_Ath_" ).innerHTML != "" ) return key;
				} 
			});
									
			return -1;
		}
			
		
		function doAction(){
			console.log('1556 doAction ============%o %s', xInt );
						
			//	新規（妨害）の場合、または「なし」（＝正常値の登録）
			str = xInt['sLeft'].split("dbl").join("");
			if( str != xInt['prevLeft'] ){
				
				//	no_meaning
				if( xInt['sINT'] == ""){
					
					set_5X20( prevIJ, "set" );
					return;
					
				} 
				//else { 
					
					//	push
					//console.log('456 %s %s', arColor_[prevI], xInt['sRight'] );
					if( arColor_[prevI] == xInt['sRight'] ){
						alert( "自分を相手の色として設定できません" );
						return;
					}
								
					//	push
					console.log('1565 push ', xInt['sINT']);
					document.getElementById( prevI + "_Ath_").innerHTML = document.getElementById( prevI + "_Ath").innerHTML;
					document.getElementById( prevI + "_Ath").innerHTML = (xInt['sINT'] =="△dbl" ? "△" : xInt['sINT'] ) + " " + (parseInt(prevJ)+1) + "→" + xInt['sRight']; 
								
				//}
				set_5X20( prevIJ, "red" );
				console.log('1558 push!', xInt );
				
			} else {
				
				//	同じ妨害		 overwrite（相手の変更） or delete
				console.log('468 sINT=%s prevINT%s sRight=%s prevI=%s ', xInt['sINT'] , xInt['prevINT'], xInt['sRight'], prevI );
				if( arColor_[prevI] == xInt['sRight'] && xInt['sINT'] != "" ){
					alert( "自分を相手の色として設定できません" );
					return;
				}
				
				arAth.forEach( (val,key)=>{
					if( document.getElementById( prevI + val ).innerHTML.indexOf( (parseInt(prevJ)+1) + "→" ) > 0 ){
						//	「なし」の場合、Ath（色）の行を消す、そうでない場合、登録
						document.getElementById( prevI + val ).innerHTML = xInt['sINT'] == "" ? "" : xInt['sINT'].split("dbl").join('') + " " + (parseInt(prevJ)+1) + "→" + xInt['sRight'];
					}
				});
				if( document.getElementById( prevI + "_Ath" ).innerHTML == "" ){
					document.getElementById( prevI + "_Ath" ).innerHTML = document.getElementById( prevI + "_Ath_" ).innerHTML;
					document.getElementById( prevI + "_Ath_" ).innerHTML = "";
				}
				
				if( xInt['sINT'] == "" ){
					set_5X20( prevIJ, "set" );		//	「なし」なら削除
				} else {
					set_5X20( prevIJ, "red" );		//	「なし」でないなら、登録
				}
			}	
			
			
			//
			// double処理
			//

			console.log('1596 ====link===', xInt );
			
			if( xInt['sINT'] == "△dbl" ){
				
							
				var nWave = 1;		//	dummy	////
				//	相手のWaveNoを求める
				for( var i=1; i<21; i++ ){
					if( document.getElementById("rid_rid_" + i ).style.backgroundColor == "black" ){
						nWave = i;
					}
				}	
				//	今回Ath（相手の色）に表示する文字列を求める
				str = "△ " +  nWave +  "→" + arColor_[ prevI ];
				console.log('502 ' , str );
				console.log("513 ", nAite );
				
				//	それが表示済か？	
				var bExist=false;
				arAth.forEach( (val,key)=>{
					if( 	document.getElementById( nAite + val ).innerHTML == str ) {
						console.log('508 ');
						bExist = true;
					}
				});
				//	（※表示済なら表示しない）
				if( ! bExist ){
					document.getElementById( nAite + "_Ath_" ).innerHTML =  document.getElementById( nAite + "_Ath" ).innerHTML;				
					document.getElementById( nAite + "_Ath" ).innerHTML =  	"△ " +  nWave +  "→" + arColor_[ prevI ];
					
					//	5X20を表示する
					str = nAite + "_" + (parseInt(nWave) - 1);
					console.log('511 ' , str );
					set_5X20( str, "red" );					
				}
								
			}
			
		}
		
		
		//
		//	５X20のセルの値、色などをセットする
		//
		function set_5X20( prevIJ_ ,		//	行_列 	0...4	0...19
											par					//	"set " "red" "gray" ""
											){			//	▲、△、△dbl		※	この他、Pdの処理にgreyがある
			
			console.log('1632 %s %s', prevIJ_, par );
			console.log('669 ',document.getElementById( prevIJ_ + "_00" ).style.fontWeight );
			var fWeight = document.getElementById( prevIJ_ + "_00" ).style.fontWeight;
			//console.log('1756 ',fWeight );
			
			str = xInt['sINT'].split("dbl").join("");
			if( prevIJ_ == prevIJ ){
				
				str_ = "<label style='font-weight:" + fWeight + "normal;font-size:11pt' id='" + prevIJ_+"_00'>"+ 				
					str+  " 0.00</label><label><br>" +
					document.getElementById("J1_1" ).innerHTML + "<br>" +
					document.getElementById("J2_1" ).innerHTML + "<br>" +
					document.getElementById("J3_1" ).innerHTML + "<br>" +
					document.getElementById("J4_1" ).innerHTML + "<br>" +
					document.getElementById("J5_1" ).innerHTML + "</label>" ;	
						
			} else {
				str_ = document.getElementById( prevIJ_  ).innerHTML;
				var ar = str_.split("<br>");
				ar[0] = 	"<label style='font-weight:" + fWeight + "normal;font-size:11pt' id='" + prevIJ_+"_00'>"+ 				
					str+  " 0.00</label><label>";
				str_ = ar.join("<br>");
			}			
				
			if( par == "red" ){
				//console.log("1725");
				//console.log('1651 ', str_ );

				document.getElementById( prevIJ_  ).innerHTML = str_;			

				//	赤の網掛け
				setNet( prevIJ_, "red");		//	赤アミカケにすれば、合計などから除外される
				
				//	妨害のセット
				if( interfere[ prevI ][0] == 0.0 ){
					interfere[ prevI ][0] = str_ =="" ? 0.0 : str_ =="△" ? 1.0 : 2.0;
				} else if( interfere[ prevI ][1] == "" ){ 
					interfere[ prevI ][1] = str_ =="" ? 0.0 : str_ =="△" ? 1.0 : 2.0;
				}				
		
			}
			
			if( par == "set" ){
				//console.log('1761');
				document.getElementById( prevIJ_  ).innerHTML = str_;			
				document.getElementById( prevIJ_ + "_00" ).style.fontWeight = "bold";
									
				setAverageByDetail( prevIJ_  );
				
				setNet( prevIJ_, "");		
						
			}
			
			//	削除（＝クリア）
			if( par == "" ){
				
				setAverageByDetail( prevIJ_  );
				//console.log( '1818 ', prevIJ_ + "_0_0" );
				//console.log('1818 ', document.getElementById( prevIJ_ + "_00").style.fontWeight );
				if( document.getElementById( prevIJ_ + "_00").style.fontWeight == "bold" ){ 
					setNet( prevIJ_, "");		
				} else {
					setNet( prevIJ_, "grey");		
				}						
				
								
			}
			
			console.log('612 ', prevIJ_);
			setApproveNo();				
			emitHJ(prevIJ_);						
			totalReculc({"IJ": prevIJ_ });		//	total再計算 	※releaseと同じ対策、socket通知でないが、パラメータを通知と同じにする
			getSeqAndNeedPoint();
		
		}

		
		
		function onX_tenkey(){
			//console.log('1276 ' );
			flagOnDialogChild = false;
			document.getElementById( "tenkeyDialog" ).style.display="none";
		}
		
		
		tenkeySpecial = function tenkeySpecial(){		
			document.getElementById( "tenkeyDialog" ).style.width = "500px";	//	※対処療法			
		}		


		//
		//	テーブル内でのtenKey処理
		//
		function on10_TB(n){
			
			str = document.getElementById( "tenVal" ).innerHTML;			
			
			if( n == "△" && str.length == 3 ){
				document.getElementById( "tenVal" ).innerHTML += "△";
			}
			if( n == "▲" && str.length == 3 ){
				document.getElementById( "tenVal" ).innerHTML += "▲";
			}			
			
			if( n == "OK" ){
				
				
				//	tenkeyでの入力値を、Jn_1	n=1...5 に移す
				document.getElementById(  jNo_.split("_")[0] + "_1"  ).innerHTML = document.getElementById(  "tenVal" ).innerHTML;
				
				
				//	Jn		n=1...5	の平均値を求める
				var bunbo=0;
				var ave=0.0;
				for( var i=1; i<6; i++ ){
					str = document.getElementById("J"  + i + "_1" ).innerHTML;
					str = str.split("Pd▲").join('');
					str = str.split("Pd△").join('');
					str = str.split("▲").join('');
					str = str.split("△").join('');
					if( ! isNaN(str) ){
						bunbo += 1;
						ave += parseFloat(str);
					}
				}	
				if( bunbo > 0 ){
					ave = ave / bunbo;
					////console.log('341 ' , ave.toFixed(2) );					
					document.getElementById("echoback_TB_0" ).innerHTML = ave.toFixed(2);
				}			
				
				onX_tenkey();
				
				
			}

			if( n == "10") {
				document.getElementById( "tenVal" ).innerHTML = n + ".0";
			} else 	if( '0' <= n && n <= '9'){				
				

				if( str == "" || str.length >= 3 ){
					document.getElementById( "tenVal" ).innerHTML = n + ".";
				} else {
					document.getElementById( "tenVal" ).innerHTML = str + n;	
				}
					
			}	

			if( n == "X" ){
				console.log('757');
				
				if( flagOnDialogChild )return;		//	子dialogが開いている場合、無視
			
				console.log('761');
				
				//	後始末					
				//	2段目、各judgeの背景色
				for( var i=1; i<6; i++ ){
					document.getElementById("J"  + i + "_1" ).style.backgroundColor = "white";
				}		
				
				//	インターフェア		
				for( var i=0; i<4; i++ ){
					document.getElementById("RidingInterfere_"  + i  ).style.backgroundColor = "white";
					document.getElementById("RidingInterfere_"  + i  ).style.color = "black";
				}			
				
				// 	相手
				for( var i=0; i<4; i++ ){
					document.getElementById("rid_aite_"  + i  ).style.backgroundColor = "white";
					document.getElementById("rid_aite_"  + i  ).style.color = "black";
				}			
				
				//	waveno							
				document.getElementById( "WaveNoAite" ).style.display = "none";
				
				obj2 = document.getElementById( "ridingDialog" );
				obj2.style.display = "none";
				flagOnDialog = false;
				
			}	
						
		}
		
	


	</script>
	

	
	</div>
	
	
<!--tenkeyDialog-->	
<div id="tenkeyDialog" style="position:absolute; background-color:white;border: 1px solid #000000;display:none;width:50%;border-radius: 30px;" >
		<br>
		<label style="font-weight:bold">スコアを修正してください</label>
		<!-- 最下段の tenkey -->	
		
	<style>
		.tenkeyTd{
			font-size:			24pt;
			border-color:	black;
			background-color:black;
			color:	white;
			padding:0px
		}
	</style>
		
	<table align="center" style="width:70%;padding:0px;background-color:lightgrey">	
						
		<tr>
			<td class="tenkeyTd" id="tenJNo" style="border-color:white;background-color:white;color:black" >J4</td>
			<td class="tenkeyTd" id="tenVal" style="border-color:white;background-color:white;color:black" colspan="3"></td>
		</tr>
						
		<tr>
			
			<td class="tenkeyTd" onclick="on10_TB('7')">&nbsp;&nbsp;&nbsp;7&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('8')">&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('9')">&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" id="Interference_4" onclick="onX_tenkey()">X</td>
		</tr>
		
		<tr>
			<td class="tenkeyTd" onclick="on10_TB('4')">&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('5')">&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('6')">&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;</td>

			<td class="tenkeyTd" 	onclick="on10_TB('△')" 	style="font-size:16pt"			id="Interference_2"	/>△ Interfere</td>
		</tr>

		
		<tr>

			<td class="tenkeyTd"  onclick="on10_TB('1')">&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('2')">&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;</td>
			<td class="tenkeyTd" onclick="on10_TB('3')">&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;</td>

			<td class="tenkeyTd"	 onclick="on10_TB('▲')"  	style="font-size:16pt"			id="Interference_1"	/>▲ Priority </td>
		</tr>		
		
		<tr>
			<td class="tenkeyTd" onclick="on10_TB('0')" colspan="2">0</td>
			<td class="tenkeyTd" onclick="on10_TB('10')">10</td>
			<td class="tenkeyTd" 	onclick="on10_TB('OK')"   id="Interference_3"	/>OK</td>
		</tr>		
		

		
								
	</table>

		
	

	
	<br>
</div>
	
		


<!-- PaddlingInterfereのdialog ※削除-->


<!-- DNP_Noride_Dialog -->
<style>

	.DNP_td {
		border: 2px lightgrey solid;
		font-weight:bold
	}
	.DNP_td_color {
		border: 2px black solid;
		width:20%;
		background-color:white;
	}	
	
</style>

<script>

	//	初回処理
	DNP_Special = function DNP_Special(){
		//console.log('DNP_Special');			
		
		document.getElementById( "DNP_Noride_Dialog" ).style.width = "600px";	//	※対処療法
		
		document.getElementById( "rnd_" ).innerHTML = document.getElementById( "rnd" ).innerHTML;
		document.getElementById( "ht_" ).innerHTML = document.getElementById( "ht" ).innerHTML;
		
		console.log( '1290 ', document.getElementById( "0_seq5" ).innerHTML );
		var str;
		for( var i=0; i<5; i++ ){
			str = document.getElementById( i + "_seq5" ).innerHTML;
			if( str.indexOf( "DNP" ) >= 0 ){
				document.getElementById( i + "_seq5_" ).style.backgroundColor="black";
				document.getElementById( i + "_seq5_" ).style.color="white";
			}
			if( str.indexOf( "No ride" ) >= 0 ){
				document.getElementById( i + "_seq5__" ).style.backgroundColor="black";
				document.getElementById( i + "_seq5__" ).style.color="white";
			}
		}
	}
	
	
	function onDNP(n){
		//alert("onDNP " + n );	
		//console.log('1307 ' , document.getElementById( n + "_seq5_").style.backgroundColor );
		if( document.getElementById( n + "_seq5_").style.backgroundColor == "black" ){
			document.getElementById( n + "_seq5_").style.backgroundColor ="white";
			document.getElementById( n + "_seq5_").style.color ="black";

			
		} else {
			document.getElementById( n + "_seq5_").style.backgroundColor ="black";
			document.getElementById( n + "_seq5_").style.color ="white";
			
			document.getElementById( n + "_seq5__").style.backgroundColor ="white";
			document.getElementById( n + "_seq5__").style.color ="black";
		}
		
	}


	function onNoride(n){
		//alert("onDNP " + n );	
		//console.log('1307 ' , document.getElementById( n + "_seq5_").style.backgroundColor );
		if( document.getElementById( n + "_seq5__").style.backgroundColor == "black" ){
			document.getElementById( n + "_seq5__").style.backgroundColor ="white";
			document.getElementById( n + "_seq5__").style.color ="black";

		} else {
			document.getElementById( n + "_seq5__").style.backgroundColor ="black";
			document.getElementById( n + "_seq5__").style.color ="white";
			document.getElementById( n + "_seq5_").style.backgroundColor ="white";
			document.getElementById( n + "_seq5_").style.color ="black";
		}
		
	}	

	
	function onDNP_X(){
		//alert('onDNP_X()');
		document.getElementById("DNP_Noride_Dialog").style.display = "none";
		prevIJ = "";
		prevI = "";		//prevIJ.split("_")[0];						
		prevJ = "";		//prevIJ.split("_")[1];					
		flagOnDialog = false;
	}

	
	function onDNP_Release(){
		//alert("onDNP_Release");
		for( var i=0; i<5; i++ ){
			if( document.getElementById( i + "_seq5_" ).style.backgroundColor == "black" ){
				console.log('1340 ', i );
				document.getElementById( i + "_seq5" ).innerHTML = "DNP";
			} else 	if( document.getElementById( i + "_seq5__" ).style.backgroundColor == "black" ){
				document.getElementById( i + "_seq5" ).innerHTML = "No ride";			
			} else{
				document.getElementById( i + "_seq5" ).innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";							
			}
		}
		onDNP_X();		
	}

</script>


<div id="DNP_Noride_Dialog" style="position:absolute; background-color:lightgrey;border: 1px solid #000000;display:none;width:50%">

	<label style="background-color:black;color:white;float: right;" onclick="onDNP_X()">&nbsp;X&nbsp</label>
	
	<table style="margin:auto">

		<tr>
			<td  id="rnd_" td class="DNP_td">rnd</td>
			<td  id="ht_" td class="DNP_td">heat</td>
			<td class="DNP_td"></td>
			<td class="DNP_td"></td>
			<td class="DNP_td"></td>
		</tr>
	 	<tr><td class="DNP_td">&nbsp;</td></tr>
		 
		 <tr><td colspan="2" style="border: 2px lightgrey solid;" >欠場 (DNP)</td></tr>
		 
		 <tr  >
			 <td id="0_seq5_" class="DNP_td_color" onclick="onDNP('0')">Red</td>
			 <td id="1_seq5_" class="DNP_td_color" onclick="onDNP('1')">White</td>
			 <td id="2_seq5_" class="DNP_td_color" onclick="onDNP('2')">Yellow</td>
			 <td id="3_seq5_" class="DNP_td_color" onclick="onDNP('3')">Blue</td>
			 <td id="4_seq5_" class="DNP_td_color" onclick="onDNP('4')">Green</td>
		 </tr>
	 
	 	<tr><td class="DNP_td">&nbsp;</td></tr>
	 	
		 <tr><td colspan="3" style="border: 2px lightgrey solid;align:left" >ノーライド (No ride)</td></tr>
		 
		 <tr  >
			 <td id="0_seq5__" class="DNP_td_color" onclick="onNoride('0')">Red</td>
			 <td id="1_seq5__" class="DNP_td_color" onclick="onNoride('1')">White</td>
			 <td id="2_seq5__" class="DNP_td_color" onclick="onNoride('2')">Yellow</td>
			 <td id="3_seq5__" class="DNP_td_color" onclick="onNoride('3')">Blue</td>
			 <td id="4_seq5__" class="DNP_td_color" onclick="onNoride('4')">Green</td>
		 </tr>

	 	<tr><td class="DNP_td">&nbsp;</td></tr>
	  
	 	<tr><td class="DNP_td">&nbsp;</td>
	 	<td colspan="3" style='border-color:black;background-color:black;border-radius:10pt;font-size:16pt;color:white;margin:10px;' onclick="onDNP_Release()">OK</td>
	 	<td class="DNP_td">&nbsp;</td></tr> 

	 	<tr><td class="DNP_td">&nbsp;</td></tr>
	</table>
  	
</div>





<!-- paddling Dialog-->
<div id="paddlingDialog" style="position:absolute; background-color:lightgrey;border: 1px solid #000000;display:none;">
 	
 	<!--	margin-top:-32px -2em これは対処療法	
 	-->
 	
 	<table width="100%" style="border-collapse:collapse;" >
 		<tr>
 		<!--
 			<td style="padding:0px;border-color:lightgrey" >&nbsp;</td>
 		-->	

 		
	 		<td  style="font-size:16pt;padding:0px;font-weight:bold;text-align:left" id="padColor">
	 		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	 		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	 		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	 		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>

	 		<td style="background-color:black;color:white;border-color:black;width:2em" onclick="onX()">✖</td>
 		</tr>
	 		
 		
 	</table>
 	
 	<table style="padding:20px;">
 		<tr><td colspan="4" style="text-align:left;border-color:lightgrey;">パドリング インターフェア</td>
 		<tr>

 			<style>
	 			.disc_td{
					border-color:black;
					background-color:white;
					border-radius:10pt;
					font-size:16pt;
					padding:5 20 5 20;
					color:black;
					margin:0px;
				}
				.disc_dummy{
					border-color:lightgrey;
				}			
 			</style>
 			<script>
 			
 				//	rid dialog 妨害種別を変更した場合のイベント処理
 				function onIndex( par,			// 	id名の接頭語			ex.		padInt
 													n, 			//	（それに続く）番号		0...（mx-1）
 													mx ){		//	番号の最大値

					console.log('43 par=%s n=%s mx=%s prevIJ=%s' , par, n, mx, prevIJ );
					if( flagOnDialogChild )return;		//	子dialogが開いている場合、無視
									
					for( var i=0; i<mx; i++ ){
						try{							// riding妨害には「なし」(n==0)が存在しないためのtry
							document.getElementById( par + i ).style.backgroundColor =  i == n ? "black" : "white";
							document.getElementById( par + i ).style.color =  i == n ? "white" : "black";							
						}catch(error){}
					}
					if( n == 0 && prevIJ.length > 1 ){		//	ここの意味不明	※	（＝ridingの場合）
						setAverageByDetail( prevIJ );
						document.getElementById("echoback_TB_0" ).innerHTML = average.toFixed(2);
					}
					
					if( par=="RidingInterfere_" ){
					 	if( n=="3" ){
							document.getElementById("WaveNoAite" ).style.display = "";
						} else {
							document.getElementById("WaveNoAite" ).style.display = "none";
						}
					} 
					
					
				}
				
 			</script>
 			<td id="padInt1"  class="disc_td" onclick="onIndex('padInt', 1, 4)">Pd▲ Priority </td>
 			<td id="padInt2"  class="disc_td" onclick="onIndex('padInt', 2, 4)">Pd△ Non-Priority </td>
 			<td id="padInt3"  class="disc_td" onclick="onIndex('padInt', 3, 4)">Pd△ Double </td>
 			<td id="padInt0"  class="disc_td" onclick="onIndex('padInt', 0, 4)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
 		</tr>
 	</table>

 	<table style="padding:20px">
 		<tr><td colspan ="3" style="text-align:left;border-color:lightgrey;">ライディング</td><td colspan="7" class="disc_dummy"></td>
 		</tr>
 		<tr>
 		<td class="disc_td" style="padding:5 0 5 0;background-color:black;color:white" id="rid_0" onclick="onIndex('rid_', 0, 21)">なし</td><td colspan="9" class="disc_dummy"></td>
 		<tr>
 		<tr>
 			<td class="disc_td" id="rid_1" onclick="onIndex('rid_', 1, 21)">1</td>
 			<td class="disc_td" id="rid_2" onclick="onIndex('rid_', 2, 21)">2</td>
 			<td class="disc_td" id="rid_3" onclick="onIndex('rid_', 3, 21)">3</td>
 			<td class="disc_td" id="rid_4" onclick="onIndex('rid_', 4, 21)">4</td>
 			<td class="disc_td" id="rid_5" onclick="onIndex('rid_', 5, 21)">5</td>
 			<td class="disc_td" id="rid_6" onclick="onIndex('rid_', 6, 21)">6</td>
 			<td class="disc_td" id="rid_7" onclick="onIndex('rid_', 7, 21)">7</td>
 			<td class="disc_td" id="rid_8" onclick="onIndex('rid_', 8, 21)">8</td>
 			<td class="disc_td" id="rid_9" onclick="onIndex('rid_', 9, 21)">9</td>
 			<td class="disc_td" id="rid_10" onclick="onIndex('rid_',10, 21)">10</td>
 		</tr>
 		<tr>
 			<td class="disc_td" id="rid_11" onclick="onIndex('rid_', 11, 21)">11</td>
 			<td class="disc_td" id="rid_12" onclick="onIndex('rid_', 12, 21)">12</td>
 			<td class="disc_td" id="rid_13" onclick="onIndex('rid_', 13, 21)">13</td>
 			<td class="disc_td" id="rid_14" onclick="onIndex('rid_', 14, 21)">14</td>
 			<td class="disc_td" id="rid_15" onclick="onIndex('rid_', 15, 21)">15</td>
 			<td class="disc_td" id="rid_16" onclick="onIndex('rid_', 16, 21)">16</td>
 			<td class="disc_td" id="rid_17" onclick="onIndex('rid_', 17, 21)">17</td>
 			<td class="disc_td" id="rid_18" onclick="onIndex('rid_', 18, 21)">18</td>
 			<td class="disc_td" id="rid_19" onclick="onIndex('rid_', 19, 21)">19</td>
 			<td class="disc_td" id="rid_20" onclick="onIndex('rid_', 20, 21)">20</td>
 		</tr>
 	</table>
 	
 	<table style="padding:20px;">
 		<tr><td colspan="4" style="text-align:left;border-color:lightgrey;">相手</td></tr>
 		<tr>	
 			<td id="aite_0"  class="disc_td" onclick="onIndex('aite_', 0, 5)">&nbsp;&nbsp;&nbsp;Red &nbsp;&nbsp;&nbsp;</td>
 			<td id="aite_1"  class="disc_td" onclick="onIndex('aite_', 1, 5)">&nbsp;&nbsp;White&nbsp; &nbsp;</td>
 			<td id="aite_2"  class="disc_td" onclick="onIndex('aite_', 2, 5)">&nbsp;&nbsp;Yellow&nbsp;&nbsp;</td>
 			<td id="aite_3"  class="disc_td" onclick="onIndex('aite_', 3, 5)">&nbsp;&nbsp;&nbsp;Blue&nbsp;&nbsp;&nbsp;</td>
 			<td id="aite_4"  class="disc_td" onclick="onIndex('aite_', 4, 5)">&nbsp;&nbsp;Green&nbsp;&nbsp;</td>
 		</tr>
 	</table> 
 
 	<div  align="center"> 
 		<input type='button' value='Release' onclick='onPadRelease()'
 			style='border-color:black;background-color:black;border-radius:10pt;font-size:16pt;padding:10pt;color:white;margin:10px;' />
 	</div>
 	
</div>

<script>

		//	初回処理
		paddlingSpecial = function paddlingSpecial(){
			//alert('paddlingSpecial');
			console.log('1256 bAth=%s', bAth );		//	Athlete(色)クリック	1:true		0:false
			
			//	※	dialog表示する度に画面が大きくなる不具合の対策			※	対処療法
			document.getElementById("paddlingDialog" ).style.width = "790px";	
			
			//	※	これは無条件に行う		※注意	background-color:green   background-color:#00ff00	は異なる
			//	タイトルバーに（色）をセット		prevIJにid（=0...4）がセットされている	
			document.getElementById( "padColor" ).style.borderColor = arColor[ prevIJ ];
			document.getElementById( "padColor" ).style.backgroundColor = arColor[ prevIJ ];
			
			document.getElementById( "padColor" ).innerHTML = "&nbsp;&nbsp;&nbsp;" + arColor_[ prevIJ ];
			document.getElementById( "padColor" ).style.color = arTextColor[ prevIJ ];
			//document.getElementById( prevIJ  ).style.color;

			//	（色）からの起動の場合、リターン		（現在値を反映表示しない）
			if( bAth == 0 ) return;
	
						
			//
			//	現在値を反映表示
			//

			//	Athlete(色)の最下行（パドリング妨害の表示）を取得する		ex.	Pd△dbl White→Red
			str = document.getElementById( prevIJ + "_Ath" ).innerHTML;		
			//console.log('1591 ', str );	
			[  "Pd▲ ", "Pd△ ", "Pd△d"  ].forEach( (val,key)=>{		
				//	その表示をdialog内のパドリングインターフェア（ボタン）に反映する
				if( str.indexOf( val ) >= 0 ){
					document.getElementById( "padInt" + (key+1) ).style.backgroundColor = "black";
					document.getElementById( "padInt" + (key+1) ).style.color = "white";					
				}
			});
			
			//	その表示をdialog内の相手（ボタン）に反映する
			var ar = str.split("→");
			arColor_.forEach( (val, key ) =>{
				if( ar.length > 1 ){
					if( ar[1].indexOf( val ) >= 0 ){
						document.getElementById( "aite_" + key ).style.backgroundColor = "black";
						document.getElementById( "aite_" + key ).style.color = "white";
					}								
				}
			});
			console.log('175');
			//document.getElementById( "aite_" + "1" ).disabled = true;
			
			//	ライディングをセット
			ar = str.split("</label");
			console.log('1630 %d %s', ar.length , ar[1] );
			console.log('1631 ', ar[0].substring( ar[0].indexOf( ">")+1 ));
			var n = ar[0].substring( ar[0].indexOf( ">")+1 );
			if( n.length > 0 && n > 0 ){
				document.getElementById( "rid_" + n ).style.backgroundColor = "black";
				document.getElementById( "rid_" + n ).style.color = "white";			
				document.getElementById( "rid_" + 0 ).style.backgroundColor = "white";
				document.getElementById( "rid_" + 0 ).style.color = "black";		
			}													
		}


		function onX(){
						
			for( var i=0;i<4; i++ ){
				document.getElementById( "padInt" + i ).style.backgroundColor = "white";
				document.getElementById( "padInt" + i ).style.color = "black";
			}
			for( var i=0;i<21; i++ ){
				document.getElementById( "rid_" + i ).style.backgroundColor = i== 0? "black" : "white";
				document.getElementById( "rid_" + i ).style.color = i==0? "white" : "black";
			}					
			for( var i=0;i<5; i++ ){
				document.getElementById( "aite_" + i ).style.backgroundColor = "white";
				document.getElementById( "aite_" + i ).style.color = "black";
			}			
			document.getElementById('paddlingDialog').style.display='none';
			prevIJ = "";
			prevI = "";						
			prevJ = "";						
			flagOnDialog = false;
			
			setApproveNo();
		}
		
		
		function onPadRelease(){
						
			//	dialog内の「バドリングインターフェア」を、Athlete（色）の最下行に反映させる	
			console.log('1608 ', prevIJ );
			
			var str="";
			//	妨害の表示内容を求める	①　②→③		①妨害種別	②自分（色）→③相手（色）		ex.	Pd△dbl White→Red
			//	(※変更）	妨害の表示内容を求める	①　→③		①妨害種別	→③相手（色）		ex.	Pd△ →Red		また、doubleは表示しない

			var strRid="";		
			//	ライディング（自分のwave番号）を付加		ex.	Red3		3:wave番号	1...20			但し、非表示
			for( var i=1; i<21; i++ ){
				if( document.getElementById("rid_" + i ).style.backgroundColor == "black" ){
					strRid = i + "";
				}
			}
						
			//	①妨害の種別		②自分	→
			for( var i=0; i<4; i++ ){
				var obj = document.getElementById("padInt" + i );
				if( obj.style.backgroundColor == "black" ){
					str =  obj.innerHTML;
					if( str.indexOf("なし") > 0 ){
						str = "";
					} else if( str.indexOf("Double")> 0 ) {
						str = "Pd△dbl"+ " " + arColor_[ prevIJ ]  + "<label style='display:none'>" + strRid +"</label>→";				
						//str = "Pd△dbl"+ " "   + "<label style='display:none'>" + strRid +"</label>→";				
					} else{	
						str = str.split(" ")[0] + " " + arColor_[ prevIJ ] + "<label style='display:none'>" + strRid +"</label>→";			
						//str = str.split(" ")[0] + " "  + "<label style='display:none'>" + strRid +"</label>→";			
					}
				}
			}
			console.log('249 ', str );
			
			//	ライディングありの場合
			if( strRid != "" && str != ""){
				//	該当の5X20セルの背景をlightgrey	、
				//console.log('1687 ', document.getElementById( prevIJ + "_" + (strRid-1) + "_00" ).innerHTML );
				
				var bAllSpace=true;
				for( var i=parseInt( strRid ); i<20; i++ ){
					if( document.getElementById( prevIJ + "_" + i + "_00" ).innerHTML != "" 
					&&  document.getElementById( prevIJ + "_" + i + "_00" ).innerHTML != "&nbsp;" ){
						bAllSpace = false;
					}
				}
				
				//	その5X20セルの最上行がスペースでない
				if( document.getElementById( prevIJ + "_" + (strRid-1) + "_00" ).innerHTML != "" 
				&& document.getElementById( prevIJ + "_" + (strRid-1) + "_00" ).innerHTML != "&nbsp;"
				&& bAllSpace){
				//console.log('1681 prevIJ=%s n=%s strRid=%d' , prevIJ, n, strRid );			
					setNet( prevIJ + "_" + (strRid-1), "greygrey" );		//	網掛けクリア ※これは特別処理

					document.getElementById( prevIJ + "_" + (strRid-1) + "_00" ).innerHTML = "Pdl Int";
				}
				// else {
				//	alert("ライディングの番号が正しくありません");
				//}
			}
			
			//console.log('1622 ', prevIJ );
			//str += " " + arColor_[ prevIJ ];
			//	③相手
			var strAite = "";
			for( var i=0; i<5; i++ ){
				obj = document.getElementById("aite_" + i );
				//console.log('1632 %s %s' ,  obj.innerHTML , obj.style.backgroundColor);
				if( obj.style.backgroundColor == "black" ){
					if( str != "" ){
						str += arColor_[i];
						strAite = i + "";
					}
				}
			}

			//console.log( "293 %s %s" ,prevI, strAite);
			if( prevI == strAite && strAite != "" ){
				alert( "自分を相手の色として設定できません" );
				return;
			}
			

			//
			//	「なし」（消去）の場合、
			//
			
			//Athlete（色）は、無条件に（１行上から最下行に）シフト、（１行上はクリア）
			if( str == "" ){
				
				var strDelete="";
				//	消す元の内容を一応保存しておく		ex.	Pd△dbl White→Red
				strDel = document.getElementById( prevIJ + "_Ath"  ).innerHTML;
				
				//	Athlete（色）では、最下行←Athlete（色）最下行の１行前にシフト
				document.getElementById( prevIJ + "_Ath"  ).innerHTML = document.getElementById( prevIJ + "_Ath_" ).innerHTML;
				document.getElementById( prevIJ + "_Ath_" ).innerHTML = "";
				
				
				//	ライディングありの場合、5X20セルを元の状態に戻す
				if( strRid != "" ){
					//console.log('1721 strRid=%s font-weight=%s', strRid , document.getElementById( prevIJ + "_" + (strRid-1) + "_00").style.fontWeight );
					if( document.getElementById( prevIJ + "_" + (strRid-1) + "_00").style.fontWeight == "normal" 	//	5X20セルにgreyの網掛けがある事を示す
					 ){
						setNet( prevIJ + "_" + (strRid-1) , "grey" );
					} else {
						setNet( prevIJ + "_" + (strRid-1) , "" );		
					}
					
					//	再計算
					setAverageByDetail(prevIJ + "_" + (strRid-1));						
					totalReculc({"IJ":prevIJ + "_" + (strRid-1)} );
					getSeqAndNeedPoint();	
									
				}
				
				
				//	消すAthlete(色）に「dbl」がある場合、Athlete（相手色）も消す		
				//	※（但し）Athlete（相手色）を消す場合、その行（上下）は判定する必要がある
				if( strDel.indexOf("dbl") > 0 && strDel.indexOf("Pd") >= 0){
										
					var ar = strDel.split(" " );
					if( ar.length > 1 ){
						
						var ar_ = ar[1].split( "→");		
						arColor_.forEach( (val,key) =>{			//	ex.	Pd△dbl White→Red
							if( val == ar_[1] ){
								if( document.getElementById( key + "_Ath"  ).innerHTML.indexOf( ar_[0] ) > 0
								&& document.getElementById( key + "_Ath"  ).innerHTML.indexOf( "dbl" ) > 0 ){
									//	Athlete（相手色）最下行←Athlete（相手色）最下行の１行前
									document.getElementById( key + "_Ath"  ).innerHTML = document.getElementById( key + "_Ath_" ).innerHTML;
									document.getElementById( key + "_Ath_" ).innerHTML = "";
								} else {
									//	Athlete（相手色）最下行の１行前	　をクリア
									document.getElementById( key + "_Ath_" ).innerHTML = "";
								}
								
							}
						});					 
					}					
				}
				
			} 
			
			
			//
			//	doubleの場合
			//
			
			//	Athlete（相手色）に、	相手→自分　も（追加）表示する		
			console.log('357 ', str );							//	ex.	 Pd△dbl Red<label style='display:none'></label>→White
			var bAlert=false;
			if( str.indexOf( "dbl" ) > 0 ){
				
				console.log('1790 ', str );							//	ex.	 Pd△dbl Red<label style='display:none'></label>→White
				var ar = str.split(" " );										//	ex.	 Pd△dbl || Red<label || style='display:none'></label>→White
				if( ar.length > 2 ){
					console.log('1794 ', ar[2] );
					var ar_  = [  ar[2].split( "→")[1] , ar[1].substring( 0, ar[1].indexOf("<") ) ];		//	[相手の色、自分の色]	
					console.log('367 ', ar_ );			
					arColor_.forEach( (val,key) =>{
						if( val == ar_[0] ){
							
							console.log('1726 aite=%s key=%d', ar_[0], key  );
							if( document.getElementById( key + "_Ath_" ).innerHTML != "" ){
								alert( ar_[0] + " は既に2回の妨害をしています" );										//	※①ここが特殊、エラーの場合bAlertをセットする
								bAlert=true;
							} else{
							
								if( document.getElementById( key + "_Ath" ).innerHTML != "" ){
									document.getElementById( key + "_Ath_" ).innerHTML = document.getElementById( key + "_Ath" ).innerHTML;
								} 
								console.log("373 ", ar[0] );
								document.getElementById( key + "_Ath" ).innerHTML = ar[0].split("dbl").join("") + " →" +ar_[1];		//// "dbl"は非表示
							}
						}
						
					});					 
				}
			}
			
									
			//
			//	「なし」でない場合		Ath（色）に妨害の表示する
			//
			if( str != "" && bAlert==false ){		//	※①		bAlert		pushできる場合
				
				//	（色）の場合、（最下行は上にシフト）		※	bAth	Ath列からの起動
				if( bAth == 0 ){				
					document.getElementById( prevIJ + "_Ath_" ).innerHTML = document.getElementById( prevIJ + "_Ath" ).innerHTML;
				}
				//	最下行に（表示内容）セット		//	ex.	 Pd△dbl Red<label style='display:none'></label>→White
																		//	Pd△dbl Red<label style='display:none'></label>→White
				str = str.split("dbl").join("");					
				str = str.substring( 0, str.indexOf( " " ) ) + " " + str.substring( str.indexOf("<"));		
				document.getElementById( prevIJ + "_Ath" ).innerHTML = str;		
				
			}
			
			
			//	後片付け
			onX();

		}
		
		
</script>


<script>


	//	PaddlingOKボタン

	
</script>



</div>




	<div align="left" style='font-size:16pt;padding:10px 10px '>
	
		maintenance port (do not enter)
		<!-- 発言フォーム -->
		<form id="frm-post">
			<input type="text" id="msg" style='width:300px;font-size:16pt;width:80%'>
			<button>送信</button>
		</form>

		<!-- 発言ログ -->
		<ul id="msglist">
		</ul>
	
	</div>

	<script src="https://cdn.socket.io/4.5.0/socket.io.min.js"
		integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k"
		crossorigin="anonymous"></script>
	<script>
	
		const socket = io();

		/**
		//-------------------------------------
		// Socket.ioサーバへ接続
		//-------------------------------------
		 * [イベント] フォームが送信された    （自分からの）入力値の受信→サーバに送信
		 */
		document.querySelector("#frm-post").addEventListener("submit", (e) => {
			//alert('33');
			// 規定の送信処理をキャンセル(画面遷移しないなど)
			e.preventDefault();

			// 入力内容を取得する
			const msg = document.querySelector("#msg");
			if (msg.value === "") {
				return (false);
			}

			// Socket.ioサーバへ送信
			//for(i=0;i<10;i++){
			socket.emit("post", { text: msg.value });
			//}

			// 発言フォームを空にする
			msg.value = "";
		});

		var headKind = { PR: 0, J1: 0, J2: 0, J3: 0, J4: 0, J5: 0, HJ: 0, MC: 0 };
		var headKindError = { PR: "", J1: "", J2: "", J3: "", J4: "", J5: "", HJ: "", MC: '' };

		/**
		 * //[イベント] 誰かが発言した    （他人からの、および自分から）受信    どこに入れるかは自由
		 */

		//
		//	順位およびneedPointを決める
		//
		function getSeqAndNeedPoint(){
			//console.log('1305');
			var seqAns = [ [[],0], [[],0], [[],0], [[],0], [[],0] ];
			for(var i=0; i<5; i++ ) for(var j=0; j<23; j++ ) seqAns[i][0].push( 0.0 );
			//console.log( '1356 ', seqAns );
			 
			//
			//	順位を求める	
			//																	
			//		そのための配列を作る->	seqAns	[0...4]順位		[][ [順位の配列], 元のindex0...4 ]		順位の配列	＝[合計、top1,top2、妨害1,妨害2,top3,・・・,top20]
			
			//	total_and_top2をコピー
			for( var i=0; i<5; i++ ){
				seqAns[ i ][1] = i;				//	0...4 set 
				for( var j=0; j<3; j++ ){
					seqAns[ i ][0][ j ] = total_and_top2[ i ][ j ];		//	0..2			合計、top1、top2をセットする	
				}
				for( var j=0; j<2; j++ ){
					seqAns[ i ][0][ j+3 ] = interfere[ i ][ j ];				//	3,4			妨害をセットする
				}
				for( var j=3; j<21; j++ ){
					seqAns[ i ][0][ j+2 ] = total_and_top2[ i ][ j ];	//	5...24		top3以降（20迄を）をセットする
				}
				
			}	
			//console.log('1320 ', seqAns );
			
			
			//	sort		※	合計値を第一に考慮
			seqAns = seqAns.sort( (a,b) => { 
				for( var i=0; i<5; i++){
					if( a[0][i]>b[0][i] )return -1;
					if( a[0][i]<b[0][i] )return 1;
				}
				return 0;
			 });
			seqAns.forEach( val =>{
				//console.log("863", val[0] + " " + val[1]);
			});

			//console.log('1280');
			arSeq = ["st", "nd", "rd", "th", "th"];
			//		Total(列)の再計算		6/22mail	2枚目
			var cons_=0;
			var str_=0.0;
			seqAns.forEach( (val) =>{
				//console.log('869', val[1] );
				
				//	順位	1...5	を色（Red,White,...）の下に表示する
				str = "" + val[1] + "_seq";	
				if( val[0][0] != 0.0 ){
					document.getElementById( str ).innerHTML = (cons_ + 1 ) + arSeq[cons_];		//	※	sort済みを参照	（役にたった）
				} else {
					document.getElementById( str ).innerHTML = "";
				}
				
				//str = "Total_" + val[1] + "_2";
				str = "Total_" + val[1];
				////console.log('1296 str=', str );
				switch (cons_){
				case 0:
							//	document.getElementById( str ).innerHTML = "Win by " +  parseFloat(val[0][0]).toFixed(2); 		
							break;
							
				//case 1:	break;			// defaultで行う

							
				case 2:
				case 3:
				case 4:

							//	3位以下の人が2位になるためのneeds
							//	1.		2位の合計点	-	3位以下の１番目の点数
							str_ =  seqAns[1][0][0] - seqAns[cons_][0][1]; 
							
							//	2.		2位の合計点	-	3位以下の1番目の点数	<=	2位の1番目の点数		->	＋0.01	
							if(  (seqAns[1][0][0] - seqAns[cons_][0][1])   <= seqAns[1][0][1] && seqAns[cons_][0][0] != 0.0 ){
								str_ += 0.01;		
							}			
							//document.getElementById( str ).innerHTML = "Needs " + str_.toFixed(2) ;
							
				default:		
														
							//	2位の場合、	または（3位以下でも）Finalの場合、1位になるためのNeedを求める
							//if(  cons_ == 1 ||  ( document.getElementById( "rnd" ).innerHTML.indexOf( "Final" ) == 0 && seqAns[cons_][0][0] != 0.0 ) 		){						

							if(  cons_  > 0 ){
																							
								//	１．	１位の合計点－２(n)位の1番目の点数	
								
								var second = isNaN( seqAns[cons_][0][1] )? 0.0 : parseFloat(seqAns[cons_][0][1]) ;
								//console.log('1415 seqAns[0][0][0]=%f seqAns[cons_][0][1]=%f', seqAns[0][0][0], seqAns[cons_][0][1] );
								
								//str_ =  seqAns[0][0][0] - seqAns[cons_][0][1]; 
								str_ =  parseFloat(seqAns[0][0][0]) - second; 
								//console.log( '1418 ', seqAns[0][0][0]);
								//console.log('1411 cons_=%d str_=%f %f %f', cons_, str_, seqAns[0][0][0],seqAns[cons_][0][1]  );
								
								//console.log('1421 str_=', str_ );
								//	２．	もし、（1位の合計点-2(n)位の１番目の点数）<=1位の１番目の点数	->	（1位の合計点-2(n)位の１番目の点数）	+0.01
								//if( ( seqAns[0][0][0] - seqAns[cons_][0][1] ) <= seqAns[0][0][1] && seqAns[cons_][0][0] != 0.0 ){
								//	str_ = seqAns[0][0][0] - seqAns[cons_][0][1] + 0.01;
								//}
								if( ( seqAns[0][0][0] - second ) <= seqAns[0][0][1] && second != 0.0 ){
									str_ = seqAns[0][0][0] - second + 0.01;
								}
								
								//	３．	もし、2(n)位の１番目の点数	<=	1位の１番目の点数		->	（1位の合計点-2位の１番目の点数）	+0.01
								//if(  seqAns[cons_][0][1]  <= seqAns[0][0][1] && seqAns[cons_][0][0] != 0.0  ){
								//	str_ = seqAns[0][0][0] - seqAns[cons_][0][1] + 0.01;
								//}	
								if(  second  <= seqAns[0][0][1] && second != 0.0  ){
									str_ = seqAns[0][0][0] - second + 0.01;
								}	
																								
							}	
							
							
							//
							//	妨害ありの場合、
							//
							//console.log('1314 %s %s cons_=%d', interfere[ seqAns[cons_][1] ][0],interfere[ seqAns[cons_][1] ][1], cons_ );
							
							var prev = cons_ == 1 ? 0 : 1;		//	※	2位の上は1位、3位以降の上は2位
							
							//	△＿		（ノンプライオリティ妨害が1回(だけ)）	2位が1位（3位以降なら2位）になるNeed		
							//if( interfere[ seqAns[cons_][1] ][0].indexOf( "△" ) >= 0 && interfere[ seqAns[cons_][1] ][1] == ""  ){
							if( interfere[ seqAns[cons_][1] ][0] >= 1.0 && interfere[ seqAns[cons_][1] ][1] == 0.0 ){
								//	もし、(1位の合計-2位の1番目)*2	<=	2位の1番目
								prev = cons_ == 1 ? 0 : 1;		//	※	2位の上は1位、3位以降の上は2位
								if( ( seqAns[ prev ][0][0] - seqAns[cons_][0][1] ) * 2.0 <= seqAns[cons_][0][1] ) {
									//	(上位の合計-自分の1番目)*2
									str_ = ( seqAns[ prev ][0][0] - seqAns[cons_][0][1] ) * 2.0;
								} else {
									str_ = seqAns[ prev ][0][0] - seqAns[cons_][0][1]/2.0;
								}
								//console.log('1458');
							}

							//	△△	（ノンプライオリティ妨害が1,2回）	2位が1位（3位以降が2位）になるNeed		
							//if( interfere[ seqAns[cons_][1] ][0] >= 1.0 && interfere[ seqAns[cons_][1] ][1] >= 1.0 ){
							if( interfere[ seqAns[cons_][1] ][0] == 1.0 && interfere[ seqAns[cons_][1] ][1] == 1.0 ){
								//	もし、(1位の合計-2位の1番目)*2	<=	2位の1番目
								//console.log('1335　seqAns[ prev ][0][0]=%f seqAns[cons_][0][1]=%f prev=%d' , seqAns[ prev ][0][0], seqAns[cons_][0][1], prev );
									//	(上位の合計-自分の1番目)*2
								str_ = ( seqAns[ prev ][0][0] - seqAns[cons_][0][1] ) * 2.0;
								//console.log('1467');
							}

							//	▲_	（プライオリティ妨害が1回）	2位が1位（3位以降が2位）になるNeed		
							//if( interfere[ seqAns[cons_][1] ][0].indexOf( "▲" ) >= 0 && interfere[ seqAns[cons_][1] ][1] == ""  ){
							if( interfere[ seqAns[cons_][1] ][0] == 1.0 && interfere[ seqAns[cons_][1] ][1] == 0.0  ){
								str_ =  seqAns[ prev ][0][0];
								//console.log('1473');
							}

							//	▲▲	（プライオリティ妨害が2回）	Need		
							//if( interfere[ seqAns[cons_][1] ][0].indexOf( "▲" ) >= 0 && interfere[ seqAns[cons_][1] ][1].indexOf( "▲" ) >= 0  ){
							if( interfere[ seqAns[cons_][1] ][0] == 2.0 && interfere[ seqAns[cons_][1] ][1] == 2.0  ){
								str_ = "---";
								//console.log('1479');
							}
							
							//	▲△	or	△▲	（妨害が2回、▲と△の組み合わせ）	Need		
							//if( ( interfere[ seqAns[cons_][1] ][0].indexOf( "▲" ) >= 0 && interfere[ seqAns[cons_][1] ][1].indexOf( "△" ) >= 0 )
							//	|| ( interfere[ seqAns[cons_][1] ][0].indexOf( "△" ) >= 0 && interfere[ seqAns[cons_][1] ][1].indexOf( "▲" ) >= 0)
							//  ){
							if( ( interfere[ seqAns[cons_][1] ][0] == 2.0&& interfere[ seqAns[cons_][1] ][1] == 1.0 )
								|| ( interfere[ seqAns[cons_][1] ][0] == 1.0 && interfere[ seqAns[cons_][1] ][1] == 2.0)){
								str_ =  seqAns[ prev ][0][0] * 2.0;
								//console.log('1487');
							}
							
							//console.log('1439 str_=%s cons_=%d', str_ , cons_);
							//console.log('', document.getElementById( str ).innerHTML );
							ar22 = document.getElementById( str ).innerHTML.split("<br>");							
							if( ! isNaN(str_) ){
								//document.getElementById( str ).innerHTML = "Needs " + str_.toFixed(2) ;
								ar22[2] = "Needs " + str_.toFixed(2) ;
							} else {
								//document.getElementById( str ).innerHTML = "Needs " + str_ ;	
								ar22[2] = "Needs " + str_;							
							}
							document.getElementById( str ).innerHTML = ar22.join("<br>");
							
				}

				cons_ += 1;
			});			
			//console.log('1392');
			
		}	//	end	getSeqAndNeedPoint
		
		var time;		
		var diff;
		var timerVal=0; 
		var hash;

		//
		//	入力	msg	ex.	'J1;{"idNo":"5","IJ":"0_0","val":"1.1"}' 
		//							→	ar[]	
		//									ar[0]：PR...J1...		
		//									ar[1]→	hash
		//
		function dummyOn_( msg ){
			//console.log('664 ', msg);
			//console.log( 'xxx ' , ave );
			ar = msg.split(";");
			////console.log( '669 ', ar.length > 1 ?	ar[1] : '' );
			if( ar.length > 1 ){
				
				hash = JSON.parse(ar[1]);
				//console.log('1406 ', hash );
				
				switch( ar[0] ){
					//	共通
					case 'MC':
						document.getElementById( "class" ).innerHTML = hash.class ;
						document.getElementById( "rnd" ).innerHTML = "Round " + hash.rnd;
						document.getElementById( "ht" ).innerHTML = "/ Heat " +hash.ht;

						time = new Date(hash.time);
						timeNow = new Date();
						diff = timeNow.getTime() - time.getTime();	
						//console.log('684 diff=', diff) ;

						//	timer表示	＝	 現在時刻 - 開始時刻　＋	timer値 * 60 * 1000 -
						timerVal = hash.timer * 60000 - timeNow.getTime() + time.getTime()  ;	// * time.getTime() + hash.timer * 60000  ;
						timerVal = timerVal >= 0 ? timerVal : 0; 
						//console.log( "689 " , timerVal );

						/*
						if(typeof hash.nP  != 'undefined') {
							//console.log('1488 ', hash.nP );
							var cnt = hash.nP <= 5 ? hash.nP : 5;		//	選手の人数に従って、行を表示/非表示にする
							for( var i=0; i<5; i++ ){
								document.getElementById( "rowL" + i ).style.display = i<cnt? "" : "none";	//	左のdiv
								document.getElementById( "rowM" + i ).style.display = i<cnt? "" : "none";	//	中のdiv
								document.getElementById( "rowR" + i ).style.display = i<cnt? "" : "none";	//	右のdiv
								document.getElementById( "low" + i ).style.display = i<cnt? "" : "none";		//	padlingのdiv	※削除予定
							}		  
						}			
						*/
						
						//	（左div）Judge列の#Jを、（hash.nJを超えた行は）消す
						str = document.getElementById( "Judge_0"  ).innerHTML;
						arJ = str.split("<br>");
						for( var j=1; j<6; j++ ){
							if( j > hash.nJ ) arJ[j] = "&nbsp;";
						}
						str = arJ.join("<br>");						
						//console.log('1498 hash.nJ=%s str=%s', hash.nJ, str );
						for( var i=0; i<5; i++ ){
							document.getElementById( "Judge_" + i ).innerHTML = str;
						}
						
						//	(中Ddiv)	5X20の表のnJ（ジャッジの数）を超えた行はクリアする
						for( var i=0; i<5; i++ ){							
							for(var j=0; j<20; j++ ){
								////console.log('1504', document.getElementById( i +'_' + j ).innerHTML );
								str = document.getElementById( i + "_" + j ).innerHTML;
								arJ = str.split("<br>");
								for( var k=0; k<6; k++ ){
									if( k > hash.nJ ) arJ[k] = "&nbsp;";
								}
								document.getElementById( i + "_" + j ).innerHTML = arJ.join("<br>");
							}
						}
						
						break; 

					//	judge,headJudge
					case 'PR':    //  ex. PR;["G","W","B","Y","W"]

						var ar2 = JSON.parse(ar[1]);
						for( ele in ar2){
							//console.log('1908', color[ar2[ele]] );
							obj = document.getElementById( ele + '_99');
							obj.style.backgroundColor = color[ar2[ele]] ;
						}
						////console.log('1900 ' , ar2 );
						break;
					
					//	I_J の通知
					case 'J1':
					case 'J2':
					case 'J3':
					case 'J4':
					case 'J5':
					
						setDetail( hash['IJ'] , ar[0].substr(1), hash['val'] );
						
						setAverageByDetail( hash['IJ'] );			//	下段の警告マークはここで点灯している	※	ave[行][列]をセット	行:0...4	列：0...19	網掛けなので、Totalには反映しない
						
						if( hash['val'].indexOf('Pd') != 0 ){		//	対処療法、
							setNet( 	hash['IJ'], "grey" );
						}
						setApproveNo();
						
						totalReculc(hash);
						getSeqAndNeedPoint();

						

						break;
				
				}		//	end switch
				//console.log('1684 ave[0][2]=', ave[0][2] );
				
			}
		}
		
		//	Approve数を表示する
		//		5X20内に、grey網掛けの数（＝Approve数）を求め、ApproveScore（右に）表示する		※red除外する
		function setApproveNo(){
			var Approve=0;
			var ApproveNo = [" ","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲"];
			for( var i=0; i<5; i++ ){
				for( var j=0; j<20; j++){
					if( net[ i ][ j ] == "grey" ){
						Approve += 1;
					}	
				}
			}
			//console.log('1590 Approve=%d', Approve );
			document.getElementById( "Approve" ).innerHTML = Approve < 20 ? ApproveNo[Approve] : Approve;
		}
		
		
		//	該当行の20列から、
		//	網掛けがないセルについて
		//	最大２つを取得、Total列の該当行（１行、２行）を表示する
		
		function totalReculc(hash){		//	socketからの通知パラメータ		ex.	{"idNo":"5","IJ":"0_0","val":"1.2"}
			//console.log('1596 ' ,hash);			
			var seq = getTop2_and_setTotal0( [ hash['IJ'].split("_")[0]  ], 0 );		//	最大２つを取得、
			//console.log('1597 ', seq );
			
			ind = hash['IJ'].split("_")[0] ;
			total_and_top2[ ind ][0] = parseFloat(seq[0]) + parseFloat(seq[1]);		//	合計	var total_and_top2 = Array( Array(20), Array(20), Array(20), Array(20), Array(20) )
			total_and_top2[ ind ][1] = parseFloat(seq[0]);						//	１位
			total_and_top2[ ind ][2] = parseFloat(seq[1]);						//	２位
			//console.log( '1603 ind=%d %o',ind , total_and_top2[ind] );
			
			str =  "Total_" + hash['IJ'].split("_")[0] ;	
			str_ = document.getElementById( str ).innerHTML;
			arTotal = ["","",""];
			if( isNaN( seq[0] ) ){
				seq[0]=0.0;
				seq[1]=0.0;
			}
			arTotal[0] =( parseFloat( seq[0] ) + parseFloat( seq[1] ) ).toFixed(2);
			arTotal[1] = parseFloat( seq[0] ).toFixed(2)  + " + " + parseFloat( seq[1] ).toFixed(2);
			arTotal[2] = "win by " + arTotal[0];																							/////
			document.getElementById( str ).innerHTML = arTotal.join("<br>");
			//console.log('1671 total_and_top2[ ind ]=', total_and_top2[ ind ] );
		}		
		
		//	該当行の上位２つを求め、色付けし、total列（0行）に表示する
		function getTop2_and_setTotal0( 				//	戻り値：
																		iSav, 		//	該当行番号が要素である配列		ex [0]		0行目（を再計算する）という事、通常、要素数は１
																		k ){			//	その(配列の）index							ex.	0
			var theLine = iSav[k];
			////console.log("1631 k=%d iSav[k]=%s", k, iSav[k] );
			////console.log("1627 ", ave );
			//
			//	top2を求める
			//
			
			//	（該当行で）網掛けのないセルを取得し、新たな配列を生成する
			//	[値、index]	indexは後で取り出すために必要
			var seq = [];
			for( var j=0; j<20; j++ ){
				str = ave[ theLine ][ j ]; 	
				//console.log('1631 %s', net[ theLine ][ j ] );
				if( net[ theLine ][ j ] == ""   ){
					seq.push( [ str,  j ] ); 
				}
			}
			//console.log('1461 seq=', seq ); 	

			//	それをsortする
			seq =seq.sort( (a,b)=>{ return( b[0] - a[0] ); });
			//console.log('1644 ', seq );
			
			//	上位2つをtop2とする
			var top2 = [ 0.0, 0.0 ];
			if( seq[0][0] != 0 ){ top2[0] = seq[0][0]; }
			if( seq[1][0] != 0 ){ top2[1] = seq[1][0]; }
			
			//	その2つを色替えする
			var cnt2=0;
			seq.forEach( val => {			
				str2 = iSav[k] + "_" + val[1];	// + "_0";				
				//console.log('1651 str2=%s top2[cnt2]=%s', str2, top2[cnt2]);	
				//console.log('1651 str2=%s ', str2 );	
					
				if( cnt2 < 2 && top2[cnt2] > 0 ){
					document.getElementById( str2 ).style.background = "lightgreen";				//	background-color」ではなく「background」になっていることに注意								
				} 	else {
					if( document.getElementById( str2 ).style.background != "" ){
						document.getElementById( str2 ).style.background = "white";
					} 
				}		
				cnt2 += 1;														
			});			
			
			return top2;
		}


		var listLength=0;
		function dummyOn(msg){
			//console.log('80===== msg.text=', msg);
			const list = document.querySelector("#msglist");
			// const list = document.querySelector("msglist");  //NG
			//alert(list);    //  [object HTMLUListElement]
			const li = document.createElement("li");
			//li.innerHTML = `${msg.text}`; //  下と同じ
			li.innerHTML = msg;			

			list.insertBefore(li, list.firstChild);
			
			//	10行を超えない対策	
			listLength += 1;
			if( listLength > 10 ){
				listLength = 10;
				c_ = list.lastElementChild;
				list.removeChild( c_ );
			}
			////console.log('838 listLength=', listLength);
			//console.log('1853 before dummyOn_ %s %s', ave[0][2], msg );		
			dummyOn_( msg );
			//console.log('1855 after dummyOn_ %s %s', ave[0][2], msg );
			
		}

		//console.log('xxx ave=', ave );

		socket.on("member-post", (msg) => {
			//alert(msg.text);  //  そのもの
			//console.log('80===== msg.text=', msg.text);
			const list = document.querySelector("#msglist");
			// const list = document.querySelector("msglist");  //NG
			//alert(list);    //  [object HTMLUListElement]
			const li = document.createElement("li");
			//li.innerHTML = `${msg.text}`; //  下と同じ
			li.innerHTML = msg.text;
			list.insertBefore(li, list.firstChild);

			//console.log('1871 ', ave );
			dummyOn_( li.innerHTML );


		});

		/**
		 * [イベント] ページの読込み完了    無くてもOK
		 */
		window.onload = () => {
			// テキストボックスを選択する
			//alert('69');
			document.querySelector("#msg").focus();
		}


		//
		//	config
		//
		var id = 'HJ';		//	i am Head Judge 
		
		
		
		//
		//	heat run test
		//
		var n = 0;
		const onTimer = function () {
			n += 1;
			if (n == 5000) {
				clearInterval(timer);
			}
			socket.emit("post", { text: id + ';' + n });
		}


		objTimer = document.getElementById('timer');
		const onTimer2 = function(){
			/*
			//console.log('1675', hash.tSt );
			if( hash.tSt ){
				//console.log('798 ' , timerVal + hash.tSt );

				if( hash.tSt == "start" && timerVal > 0){
					timerVal -= timerVal >= 0 ? 1000 : 0;
				}

				intTimer = parseInt(timerVal/1000);
				objTimer.innerHTML = parseInt(intTimer/60) + "\:" + parseInt(intTimer % 60)  ;
			}
			*/
		}
		//const timer = setInterval(onTimer, 1000);
		const timer = setInterval(onTimer2, 1000);


		//	共通処理

		//	detail(J1...5)セット		中間バッファなし（innerHTMLだけ）
		function setDetail( ij, 				//	ij		ex. "0_1"	0行の1列
											k, 				//	jNo	1...5
											val ){			//	値	ex.	1.23
			
			//	Judge列の該当行(ar[0])に、idNo（Judge番号）を、5行分(離れているが)表示する	
			for( var i=0; i<5; i++ ){
				if( document.getElementById( "rowL" + i ) == "none" ) continue;
				
				////console.log('1775 ', document.getElementById("Judge_" + i ).innerHTML);
				str = document.getElementById("Judge_" + i ).innerHTML;
				////console.log('1769 %s', str.split("<br>")[k] );
				arJ =str.split("<br>");
				//if(  i <  hash['nJ'] ){
					arJ[ k ] = hash['idNo'];
				//} else {
				//	arJ[ k ] = "&nbsp;";
				//}
				arJ.join("<br>");
				document.getElementById("Judge_" + i ).innerHTML = arJ.join("<br>");
			}
			
			////console.log('1781 ', hash );
			////console.log('1782 hash.idNo=%s hash.nJ=%s' , hash['idNo'], hash['nJ']  );
			
			//console.log('1770 ij=%s k=%d val=%s hash.idNo=%s' , ij, k, val, hash['idNo']  );		//	ex,	ij=0_0 k=1 val=2.0 hash.idNo=10 hash.nJ=undefined
			//	(中div)	5X20の該当ijのk番目にvalをセットする
			arIJ = ij.split("_");
			for( var i=0; i<5; i++ ){
				for( var j=0; j<20; j++ ){
					if( arIJ[0] == i && arIJ[1] == j ){
						//console.log( '1815 ', document.getElementById( i + "_" + j ).innerHTML );
						str = document.getElementById( i + "_" + j ).innerHTML;
						arStr = str.split("<br>");
						arStr[k] = val;
						document.getElementById( i + "_" + j ).innerHTML = arStr.join("<br>");
					}
				}	
			}


			//	(5X20の表)idを求める	J(n)の（n）を取り出し、それを行番号とする行にvalを入れる
			

		}



		//	平均値セット	
		var average = 0.0;
		function setAverageByDetail( ij ){		//	セルのIJ	ex.	"0_0"

			//console.log('1755 ij=%s' , ij );
			average = 0.0;
			var bunbo=0;
			//		(5X20の表）平均値を計算する			(i)_(j)_1	通知されたval
			
			var arPoint = [];
			var flagPaddling = "";		//	paddling 有無flag			※	これは保留	・・・・・・・・・・・・・・・・・・・・・・・・・・・
				//	分母を求める
			//console.log('1857 ' , document.getElementById( ij ).innerHTML );

			//	iセルのIJ	ex.	"0_0"		から、平均値を求める
			str = document.getElementById( ij ).innerHTML;
			str = str.split("▲").join("");			//	ridingErrorを除去
			str = str.split("△").join("");			//
			//console.log('1978 ', str );
			var arStr = str.split("<br>");
			for( var i=1; i<6; i++ ){										
				bunbo += ! isNaN( arStr[i] ) ? 1 : 0; 					
				if( ! isNaN( arStr[i] )	){
					arPoint.push( arStr[i] );
				}
			}
			console.log('2646 ', arPoint );
			//	平均
			switch( bunbo ){
			case 0:
			case 1:	
						average = parseFloat(arPoint[0]);
						break;
			case 2: 
					average = (parseFloat(arPoint[0]) + parseFloat(arPoint[1]) ) / 2.0 ;
					////console.log('765 ' , average + " " + arPoint[0] + " " + arPoint[1]);
					break;
					
			case 3: 
					average = ( parseFloat(arPoint[0]) + parseFloat(arPoint[1]) + parseFloat(arPoint[2]) ) / 3.0 ;
					break;
			case 4: 
			case 5:
					arPoint = arPoint.sort( function(a,b){
						if( a<b )return -1;
						if( a>b )return 1;
						return 0;
					});		
					average = 0.0;
					for( var i=1; i< arPoint.length-1; i++ ){
						average += parseFloat(arPoint[i]);
					}				
					average = average / parseFloat(arPoint.length-2);
					
					break;
				
			}
			console.log('1931 average=%f bunbo=%d', average, bunbo );
			if( isNaN(average) )average = 0.00;
			
			//	平均値average	ijの先頭行	にセット
			str = document.getElementById( ij ).innerHTML;
			arStr = str.split("<br>");			
			////console.log('1957 arStr[0].indexOf(<)=%d arStr[0].indexOf(</)=%d' , arStr[0].indexOf(">" ) ,arStr[0].indexOf("</" ) );
			
			arStr[0] = arStr[0].substring( 0, arStr[0].indexOf(">" ) +1 ) + average.toFixed(2) + arStr[0].substring( arStr[0].indexOf("</" ) ) ;
			//str = arStr.join("<br>");
			console.log('2687 ', average );
			//console.log( '3425 ', arStr );
			document.getElementById( ij ).innerHTML = arStr.join("<br>");
			
			ave[ parseInt( ij.split("_")[0]) ][ parseInt(ij.split("_")[1]) ] = average;

		}
		
		
		//	網掛けのセット/クリア
		function setNet( ij, color ){		//	color: "" , "red" , "grey"
			 														
			net[ ij.split("_")[0] ][ ij.split("_")[1] ] = color;

			//		平均値 網掛け	tableのbackground-color:lightgrey
			if( color == "grey" ){			
				document.getElementById( ij ).style 
					= "background:repeating-linear-gradient(45deg, #eeeeee 0, #eeeeee 3px, white 3px, white 6px);  width:5%; height: 100%;font-size:10pt;border-color:lightgrey";	
			}
			
			//	特殊処理	ライディング妨害で、ライディングありの場合、5X20セルの背景をlightgreyにする場合に使う	
			if( color == "greygrey" ){			
				document.getElementById( ij ).style 
					= "background:repeating-linear-gradient(45deg, #eeeeee 0, #eeeeee 3px, #eeeeee 3px, #eeeeee 6px);  width:5%; height: 100%;font-size:10pt;border-color:lightgrey";	
			}
			
			if( color == "" ){			
				document.getElementById( ij ).style 
					= "background:repeating-linear-gradient(45deg, white 0, white 1px, white 1px, white 2px);  width:5%; height: 100%;font-size:10pt ;border-color:lightgrey";
			}
			
			if( color == "red" ){			
				document.getElementById( ij ).style 
					= "background:repeating-linear-gradient(45deg, #eecccc 0, #eecccc 3px, white 3px, white 6px);  width:5%; height: 100%;font-size:10pt ;border-color:lightgrey";
			}
			
		}
		
		
	
			
	</script>


</body>
</html>

